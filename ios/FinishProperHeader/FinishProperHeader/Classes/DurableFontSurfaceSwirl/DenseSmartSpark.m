
#import <Foundation/Foundation.h>

typedef struct {
    Byte fabric;
    Byte *disputeReplacement;
    unsigned int beggarMyNeighbourPolicy;
	int actionSpring;
	int knot;
} StructCommonDigitalData;

@interface CommonDigitalData : NSObject

+ (instancetype)sharedInstance;

@end

@implementation CommonDigitalData

//: text/javascript
- (NSString *)featurePassingMessage {
    /* static */ NSString *featurePassingMessage = nil;
    if (!featurePassingMessage) {
		NSString *origin = @"ccddc0cc97d2d9ced9cbdbcad1c8ccc2";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){184, (Byte *)data.bytes, 15, 26, 45};
        featurePassingMessage = [self StringFromCommonDigitalData:&value];
    }
    return featurePassingMessage;
}

+ (instancetype)sharedInstance {
    static CommonDigitalData *instance = nil;
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        instance = [[self alloc] init];
    });
    return instance;
}

//: yyyyMMddHHmmss
- (NSString *)colorImagineTimer {
    /* static */ NSString *colorImagineTimer = nil;
    if (!colorImagineTimer) {
		NSString *origin = @"ebebebebdfdff6f6dadaffffe1e121";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){146, (Byte *)data.bytes, 14, 86, 40};
        colorImagineTimer = [self StringFromCommonDigitalData:&value];
    }
    return colorImagineTimer;
}

//: video
- (NSString *)viewTooFormat {
    /* static */ NSString *viewTooFormat = nil;
    if (!viewTooFormat) {
		NSString *origin = @"8d929f9e940a";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){251, (Byte *)data.bytes, 5, 151, 190};
        viewTooFormat = [self StringFromCommonDigitalData:&value];
    }
    return viewTooFormat;
}

//: text/json
- (NSString *)k_connectDigitalAlert {
    /* static */ NSString *k_connectDigitalAlert = nil;
    if (!k_connectDigitalAlert) {
		NSString *origin = @"8a9b868ad1948d91905e";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){254, (Byte *)data.bytes, 9, 233, 129};
        k_connectDigitalAlert = [self StringFromCommonDigitalData:&value];
    }
    return k_connectDigitalAlert;
}

//: loginip
- (NSString *)appCommonSocietyHelper {
    /* static */ NSString *appCommonSocietyHelper = nil;
    if (!appCommonSocietyHelper) {
		NSString *origin = @"deddd5dbdcdbc2c8";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){178, (Byte *)data.bytes, 7, 50, 53};
        appCommonSocietyHelper = [self StringFromCommonDigitalData:&value];
    }
    return appCommonSocietyHelper;
}

//: text/html
- (NSString *)kWorkshopData {
    /* static */ NSString *kWorkshopData = nil;
    if (!kWorkshopData) {
		NSString *origin = @"4e5f424e15524e575632";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){58, (Byte *)data.bytes, 9, 180, 33};
        kWorkshopData = [self StringFromCommonDigitalData:&value];
    }
    return kWorkshopData;
}

//: Download
- (NSString *)componentHalfwayText {
    /* static */ NSString *componentHalfwayText = nil;
    if (!componentHalfwayText) {
		NSString *origin = @"476c746d6f6c626725";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){3, (Byte *)data.bytes, 8, 206, 125};
        componentHalfwayText = [self StringFromCommonDigitalData:&value];
    }
    return componentHalfwayText;
}

//: token
- (NSString *)widgetExecutePath {
    /* static */ NSString *widgetExecutePath = nil;
    if (!widgetExecutePath) {
		NSString *origin = @"c0dbdfd1dac4";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){180, (Byte *)data.bytes, 5, 43, 105};
        widgetExecutePath = [self StringFromCommonDigitalData:&value];
    }
    return widgetExecutePath;
}

//: AppKey
- (NSString *)commonNumbereractionText {
    /* static */ NSString *commonNumbereractionText = nil;
    if (!commonNumbereractionText) {
		NSString *origin = @"92a3a398b6aac8";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){211, (Byte *)data.bytes, 6, 22, 51};
        commonNumbereractionText = [self StringFromCommonDigitalData:&value];
    }
    return commonNumbereractionText;
}

//: text/plain
- (NSString *)viewContainerAlert {
    /* static */ NSString *viewContainerAlert = nil;
    if (!viewContainerAlert) {
		NSString *origin = @"2f3e232f742b373a3235d3";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){91, (Byte *)data.bytes, 10, 8, 159};
        viewContainerAlert = [self StringFromCommonDigitalData:&value];
    }
    return viewContainerAlert;
}

//: image/jpg
- (NSString *)colorAutomatId {
    /* static */ NSString *colorAutomatId = nil;
    if (!colorAutomatId) {
		NSString *origin = @"ccc8c4c2c08acfd5c2eb";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){165, (Byte *)data.bytes, 9, 156, 66};
        colorAutomatId = [self StringFromCommonDigitalData:&value];
    }
    return colorAutomatId;
}

//: %@.jpg
- (NSString *)screenReadingPath {
    /* static */ NSString *screenReadingPath = nil;
    if (!screenReadingPath) {
		NSString *origin = @"51345a1e041347";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){116, (Byte *)data.bytes, 6, 72, 169};
        screenReadingPath = [self StringFromCommonDigitalData:&value];
    }
    return screenReadingPath;
}

//: CurTime
- (NSString *)colorViewCapabilityKey {
    /* static */ NSString *colorViewCapabilityKey = nil;
    if (!colorViewCapabilityKey) {
		NSString *origin = @"093f381e23272f14";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){74, (Byte *)data.bytes, 7, 83, 241};
        colorViewCapabilityKey = [self StringFromCommonDigitalData:&value];
    }
    return colorViewCapabilityKey;
}

//: application/json
- (NSString *)kCattlePath {
    /* static */ NSString *kCattlePath = nil;
    if (!kCattlePath) {
		NSString *origin = @"051414080d0705100d0b0a4b0e170b0a2c";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){100, (Byte *)data.bytes, 16, 14, 88};
        kCattlePath = [self StringFromCommonDigitalData:&value];
    }
    return kCattlePath;
}

//: image
- (NSString *)layoutAutomatKey {
    /* static */ NSString *layoutAutomatKey = nil;
    if (!layoutAutomatKey) {
		NSString *origin = @"86828e888ae3";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){239, (Byte *)data.bytes, 5, 34, 204};
        layoutAutomatKey = [self StringFromCommonDigitalData:&value];
    }
    return layoutAutomatKey;
}

//: lang
- (NSString *)appRemData {
    /* static */ NSString *appRemData = nil;
    if (!appRemData) {
		NSString *origin = @"1518171ef2";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){121, (Byte *)data.bytes, 4, 150, 149};
        appRemData = [self StringFromCommonDigitalData:&value];
    }
    return appRemData;
}

//: video/mp4
- (NSString *)k_sumConfig {
    /* static */ NSString *k_sumConfig = nil;
    if (!k_sumConfig) {
		NSString *origin = @"ced1dcddd797d5c88c84";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){184, (Byte *)data.bytes, 9, 171, 26};
        k_sumConfig = [self StringFromCommonDigitalData:&value];
    }
    return k_sumConfig;
}

//: xiaokaapi.com
- (NSString *)widgetActualPath {
    /* static */ NSString *widgetActualPath = nil;
    if (!widgetActualPath) {
		NSString *origin = @"c6d7dfd1d5dfdfced790ddd1d3ba";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){190, (Byte *)data.bytes, 13, 155, 222};
        widgetActualPath = [self StringFromCommonDigitalData:&value];
    }
    return widgetActualPath;
}

//: CheckSum
- (NSString *)componentExecuteConfig {
    /* static */ NSString *componentExecuteConfig = nil;
    if (!componentExecuteConfig) {
		NSString *origin = @"b8939e9890a88e969b";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){251, (Byte *)data.bytes, 8, 203, 54};
        componentExecuteConfig = [self StringFromCommonDigitalData:&value];
    }
    return componentExecuteConfig;
}

- (NSString *)StringFromCommonDigitalData:(StructCommonDigitalData *)data {
    return [NSString stringWithUTF8String:(char *)[self CommonDigitalDataToByte:data]];
}

//: picture
- (NSString *)appHmmEvent {
    /* static */ NSString *appHmmEvent = nil;
    if (!appHmmEvent) {
		NSString *origin = @"40595344454255b3";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){48, (Byte *)data.bytes, 7, 59, 127};
        appHmmEvent = [self StringFromCommonDigitalData:&value];
    }
    return appHmmEvent;
}

//: cer
- (NSString *)kCloudError {
    /* static */ NSString *kCloudError = nil;
    if (!kCloudError) {
		NSString *origin = @"7771665b";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){20, (Byte *)data.bytes, 3, 192, 2};
        kCloudError = [self StringFromCommonDigitalData:&value];
    }
    return kCloudError;
}

//: %@.mp4
- (NSString *)spacingStraightValue {
    /* static */ NSString *spacingStraightValue = nil;
    if (!spacingStraightValue) {
		NSString *origin = @"284d23607d39e0";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){13, (Byte *)data.bytes, 6, 143, 35};
        spacingStraightValue = [self StringFromCommonDigitalData:&value];
    }
    return spacingStraightValue;
}

//: systemSetting
- (NSString *)coreLargelyValue {
    /* static */ NSString *coreLargelyValue = nil;
    if (!coreLargelyValue) {
		NSString *origin = @"e9e3e9eefff7c9ffeeeef3f4fdc1";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){154, (Byte *)data.bytes, 13, 174, 227};
        coreLargelyValue = [self StringFromCommonDigitalData:&value];
    }
    return coreLargelyValue;
}

//: png
- (NSString *)viewNoticeCeilingSettings {
    /* static */ NSString *viewNoticeCeilingSettings = nil;
    if (!viewNoticeCeilingSettings) {
		NSString *origin = @"6678712c";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){22, (Byte *)data.bytes, 3, 106, 233};
        viewNoticeCeilingSettings = [self StringFromCommonDigitalData:&value];
    }
    return viewNoticeCeilingSettings;
}

//: gif
- (NSString *)kCharacteristicHelper {
    /* static */ NSString *kCharacteristicHelper = nil;
    if (!kCharacteristicHelper) {
		NSString *origin = @"242a25f6";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){67, (Byte *)data.bytes, 3, 212, 40};
        kCharacteristicHelper = [self StringFromCommonDigitalData:&value];
    }
    return kCharacteristicHelper;
}

//: ismustmobile
- (NSString *)themeStretchSoleTimer {
    /* static */ NSString *themeStretchSoleTimer = nil;
    if (!themeStretchSoleTimer) {
		NSString *origin = @"5b415f4741465f5d505b5e57c1";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){50, (Byte *)data.bytes, 12, 175, 97};
        themeStretchSoleTimer = [self StringFromCommonDigitalData:&value];
    }
    return themeStretchSoleTimer;
}

//: image/%@
- (NSString *)themeCommandDevice {
    /* static */ NSString *themeCommandDevice = nil;
    if (!themeCommandDevice) {
		NSString *origin = @"e7e3efe9eba1abce3e";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){142, (Byte *)data.bytes, 8, 126, 45};
        themeCommandDevice = [self StringFromCommonDigitalData:&value];
    }
    return themeCommandDevice;
}

//: Nonce
- (NSString *)widgetSimpleError {
    /* static */ NSString *widgetSimpleError = nil;
    if (!widgetSimpleError) {
		NSString *origin = @"83a2a3aea847";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){205, (Byte *)data.bytes, 5, 19, 107};
        widgetSimpleError = [self StringFromCommonDigitalData:&value];
    }
    return widgetSimpleError;
}

+ (NSData *)CommonDigitalDataToData:(NSString *)value {
    NSMutableArray<NSNumber *> *array = [NSMutableArray array];
    for (NSUInteger i = 0; i < value.length; i += 2) {
        NSString *hex = [value substringWithRange:NSMakeRange(i, 2)];
        NSScanner *scanner = [NSScanner scannerWithString:hex];
        unsigned int num;
        if ([scanner scanHexInt:&num]) {
            [array addObject:@(num)];
        }
    }

    NSInteger length = array.count;
    Byte *buffer = (Byte *)malloc(length + 1);
    for (int i = 0; i < length; i++) {
        buffer[i] = [array[i] intValue];
    }
    buffer[length] = 0;
    return [NSData dataWithBytesNoCopy:buffer length:length freeWhenDone:YES];
}

//: http
- (NSString *)commonHalfProductTimer {
    /* static */ NSString *commonHalfProductTimer = nil;
    if (!commonHalfProductTimer) {
		NSString *origin = @"eff3f3f774";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){135, (Byte *)data.bytes, 4, 209, 75};
        commonHalfProductTimer = [self StringFromCommonDigitalData:&value];
    }
    return commonHalfProductTimer;
}

- (Byte *)CommonDigitalDataToByte:(StructCommonDigitalData *)data {
    for (int i = 0; i < data->beggarMyNeighbourPolicy; i++) {
        data->disputeReplacement[i] ^= data->fabric;
    }
    data->disputeReplacement[data->beggarMyNeighbourPolicy] = 0;
	if (data->beggarMyNeighbourPolicy >= 2) {
		data->actionSpring = data->disputeReplacement[0];
		data->knot = data->disputeReplacement[1];
	}
    return data->disputeReplacement;
}

//: appSetting
- (NSString *)widgetCordHelper {
    /* static */ NSString *widgetCordHelper = nil;
    if (!widgetCordHelper) {
		NSString *origin = @"c9d8d8fbcddcdcc1c6cfed";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){168, (Byte *)data.bytes, 10, 3, 95};
        widgetCordHelper = [self StringFromCommonDigitalData:&value];
    }
    return widgetCordHelper;
}

//: jpg
- (NSString *)screenReceivePlatform {
    /* static */ NSString *screenReceivePlatform = nil;
    if (!screenReceivePlatform) {
		NSString *origin = @"f3e9fe60";
		NSData *data = [CommonDigitalData CommonDigitalDataToData:origin];
        StructCommonDigitalData value = (StructCommonDigitalData){153, (Byte *)data.bytes, 3, 248, 65};
        screenReceivePlatform = [self StringFromCommonDigitalData:&value];
    }
    return screenReceivePlatform;
}

@end

// __DEBUG__
// __CLOSE_PRINT__
//
//  DenseSmartSpark.m
//  ZCBusinessCar
//
//  Created by peng on 2021/2/24.
//

// __M_A_C_R_O__
//: #import "DenseSmartSpark.h"
#import "DenseSmartSpark.h"
//: #import<CommonCrypto/CommonDigest.h>
#import<CommonCrypto/CommonDigest.h>
//: #import "FeatureBuilderFabricStop.h"
#import "FeatureBuilderFabricStop.h"
//: #import "VesselBalancerRevokeParserConvert.h"
#import "VesselBalancerRevokeParserConvert.h"

//: @interface DenseSmartSpark ()
@interface DenseSmartSpark ()

//: @property (nonatomic,strong) AFHTTPSessionManager *manager;
@property (nonatomic,strong) AFHTTPSessionManager *regular;

//: @end
@end

//: @implementation DenseSmartSpark
@implementation DenseSmartSpark

//: + (void)getWithUrl:(NSString *)urlStr
+ (void)params:(NSString *)urlStr
            //: params:(NSDictionary *)params
            successRule:(NSDictionary *)params
            //: isShow:(BOOL)isShow
            quantityoWith:(BOOL)isShow
           //: success:(ResponseSuccess)success
           across:(ResponseSuccess)success
            //: failed:(ResponseFailed)failed{
            earthyPsychologicalFeature:(ResponseFailed)failed{

    //: if (![urlStr containsString:@"http"]){
    if (![urlStr containsString:[[CommonDigitalData sharedInstance] commonHalfProductTimer]]){
        //: urlStr = RestApi(urlStr);
        urlStr = pendingApi(urlStr);
    }

    //: [self getWithUrl:urlStr params:params isShow:isShow cacheTime:0 mustResrush:YES success:success failed:failed];
    [self eye:urlStr currentFailed:params suggestTime:isShow pick:0 among:YES emotionFailed:success under:failed];
}

//: #pragma mark - 管理请求队列
#pragma mark - 管理请求队列


//: - (void)addTask:(NSURLSessionDataTask *)task{
- (void)wood:(NSURLSessionDataTask *)task{
    //: NSMutableDictionary *taskQueue = [self taskQueue];
    NSMutableDictionary *taskQueue = [self decentWeek];

    //: [taskQueue setObject:task forKey:@([NSDate date].timeIntervalSince1970)];
    [taskQueue setObject:task forKey:@([NSDate date].timeIntervalSince1970)];
}

/**
 *不验证https 不验证时
 */
//: + (AFSecurityPolicy *)defaultSecurityPolicy{
+ (AFSecurityPolicy *)front{
    //: AFSecurityPolicy *securityPolicy = [AFSecurityPolicy policyWithPinningMode:AFSSLPinningModeNone];
    AFSecurityPolicy *securityPolicy = [AFSecurityPolicy sense:AFSSLPinningModeNone];
    //: securityPolicy.allowInvalidCertificates = YES;
    securityPolicy.validCompleted = YES;
    //: securityPolicy.validatesDomainName = NO;
    securityPolicy.domainEvaluates = NO;
    //: return securityPolicy;
    return securityPolicy;
}

//: + (void)downloadWithURL:(NSString *)URL
+ (void)optionGravity:(NSString *)URL
                //: fileDir:(NSString *)fileDir
                beforeAttract:(NSString *)fileDir
               //: progress:(HttpProgress)progress
               join:(HttpProgress)progress
                //: success:(void(^)(NSString *filePath))success
                reason:(void(^)(NSString *filePath))success
                 //: failed:(ResponseFailed)failed{
                 day:(ResponseFailed)failed{


    //: if (![URL containsString:@"http"]){
    if (![URL containsString:[[CommonDigitalData sharedInstance] commonHalfProductTimer]]){
        //: URL = RestApi(URL);
        URL = pendingApi(URL);
    }

    //: NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:URL]];
    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:URL]];
    //: AFHTTPSessionManager *manager = [DenseSmartSpark sharedManager].manager;
    AFHTTPSessionManager *manager = [DenseSmartSpark sharedDo].regular;
    //: NSURLSessionDownloadTask *downloadTask = [manager downloadTaskWithRequest:request progress:^(NSProgress * _Nonnull downloadProgress) {
    NSURLSessionDownloadTask *downloadTask = [manager emit:request pretermit:^(NSProgress * _Nonnull downloadProgress) {
        //: if (progress) {
        if (progress) {
            //: progress(downloadProgress);
            progress(downloadProgress);
        }
    //: } destination:^NSURL * _Nonnull(NSURL * _Nonnull targetPath, NSURLResponse * _Nonnull response) {
    } behindForward:^NSURL * _Nonnull(NSURL * _Nonnull targetPath, NSURLResponse * _Nonnull response) {
        //拼接缓存目录
        //: NSString *downloadDir = [[NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) lastObject] stringByAppendingPathComponent:fileDir ? fileDir : @"Download"];
        NSString *downloadDir = [[NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) lastObject] stringByAppendingPathComponent:fileDir ? fileDir : [[CommonDigitalData sharedInstance] componentHalfwayText]];
        //打开文件管理器
        //: NSFileManager *fileManager = [NSFileManager defaultManager];
        NSFileManager *fileManager = [NSFileManager defaultManager];
        //创建Download目录
        //: [fileManager createDirectoryAtPath:downloadDir withIntermediateDirectories:YES attributes:nil error:nil];
        [fileManager createDirectoryAtPath:downloadDir withIntermediateDirectories:YES attributes:nil error:nil];
        //拼接文件路径
        //: NSString *filePath = [downloadDir stringByAppendingPathComponent:response.suggestedFilename];
        NSString *filePath = [downloadDir stringByAppendingPathComponent:response.suggestedFilename];
        //返回文件位置的URL路径
        //: return [NSURL fileURLWithPath:filePath];
        return [NSURL fileURLWithPath:filePath];
    //: } completionHandler:^(NSURLResponse * _Nonnull response, NSURL * _Nullable filePath, NSError * _Nullable error) {
    } text:^(NSURLResponse * _Nonnull response, NSURL * _Nullable filePath, NSError * _Nullable error) {
        //: if(failed && error) {failed(nil ,error) ; return ;};
        if(failed && error) {failed(nil ,error) ; return ;};
        //: success ? success(filePath.absoluteString /|** NSURL->NSString*|/) : nil;
        success ? success(filePath.absoluteString /** NSURL->NSString*/) : nil;
    //: }];
    }];
    //: [downloadTask resume];
    [downloadTask resume];
}

//: + (void)postWithUrl: (NSString *)urlStr
+ (void)myPress: (NSString *)urlStr
             //: params: (NSDictionary *)params
             resource: (NSDictionary *)params
             //: isShow: (BOOL)isShow
             app: (BOOL)isShow
          //: cacheTime: (int)cacheDuration
          sumeraction: (int)cacheDuration
        //: mustResrush: (BOOL)mustResrush
        goPic: (BOOL)mustResrush
            //: success: (ResponseSuccess)success
            methodReceive: (ResponseSuccess)success
             //: failed: (ResponseFailed)failed{
             dropOriginal: (ResponseFailed)failed{
    //: AFHTTPSessionManager *manager = [DenseSmartSpark sharedManager].manager;
    AFHTTPSessionManager *manager = [DenseSmartSpark sharedDo].regular;
//    manager.requestSerializer = [AFJSONRequestSerializer serializer];

    //添加请求头
    //: NSString *loginToken = [TacticRouteMergeHandler standardUserDefaults].loginToken;
    NSString *loginToken = [TacticRouteMergeHandler defaultsGray].grounds;
    //: NSString *lang = emptyString([TacticRouteMergeHandler standardUserDefaults].language);
    NSString *lang = spacePackthread([TacticRouteMergeHandler defaultsGray].preciseLarge);
    //: [manager.requestSerializer setValue:lang forHTTPHeaderField:@"lang"];
    [manager.treatFriending gate:lang extend:[[CommonDigitalData sharedInstance] appRemData]];

     //: if ([TacticRouteMergeHandler standardUserDefaults].loginToken.length > 0) {
     if ([TacticRouteMergeHandler defaultsGray].grounds.length > 0) {

        //: [manager.requestSerializer setValue:loginToken forHTTPHeaderField:@"token"];
        [manager.treatFriending gate:loginToken extend:[[CommonDigitalData sharedInstance] widgetExecutePath]];
    }

    //: NSURLSessionDataTask *task = [manager POST:urlStr parameters:params headers:nil progress:^(NSProgress * _Nonnull uploadProgress) {
    NSURLSessionDataTask *task = [manager spotBefore:urlStr speed:params be:nil flunk:^(NSProgress * _Nonnull uploadProgress) {

    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } lakeFailure:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
         //: success(responseObject);
         success(responseObject);
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } dent:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed(nil ,error);
        failed(nil ,error);
    //: }];
    }];
    //: [[DenseSmartSpark sharedManager] addTask:task];
    [[DenseSmartSpark sharedDo] wood:task];
}

//: + (instancetype)sharedManager{
+ (instancetype)sharedDo{
    //: static DenseSmartSpark *sharedManager = nil;
    static DenseSmartSpark *sharedManager = nil;
    //: static dispatch_once_t onceToken;
    static dispatch_once_t onceToken;
    //: _dispatch_once(&onceToken, ^{
    _dispatch_once(&onceToken, ^{
        //: sharedManager = [DenseSmartSpark new];
        sharedManager = [DenseSmartSpark new];
    //: });
    });
    //: return sharedManager;
    return sharedManager;
}

//: + (void)uploadVideoWithURL:(NSString *)URL
+ (void)treat:(NSString *)URL
                 //: parameters:(id)parameters
                 shared:(id)parameters
                     //: images:(NSData *)videoData
                     twenty:(NSData *)videoData
                 //: coverImage:(NSData *)coverData
                 shape:(NSData *)coverData
                   //: progress:(HttpProgress)progress
                   effective:(HttpProgress)progress
                    //: success:(ResponseSuccess)success
                    eye:(ResponseSuccess)success
                     //: failed:(ResponseFailed)failed{
                     sort:(ResponseFailed)failed{

    //: if (![URL containsString:@"http"]){
    if (![URL containsString:[[CommonDigitalData sharedInstance] commonHalfProductTimer]]){
        //: URL = RestApi(URL);
        URL = pendingApi(URL);
    }

    //: AFHTTPSessionManager *manager = [DenseSmartSpark sharedManager].manager;
    AFHTTPSessionManager *manager = [DenseSmartSpark sharedDo].regular;
    //: NSURLSessionDataTask *t = [manager POST:URL parameters:parameters headers:nil constructingBodyWithBlock:^(id<AFMultipartFormData> _Nonnull formData) {
    NSURLSessionDataTask *t = [manager layer:URL request:parameters arrangement:nil resume:^(id<AFMultipartFormData> _Nonnull formData) {

        //: NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];
        NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];
        //: NSString *fileName = [NSString stringWithFormat:@"%@.mp4",timeSp];
        NSString *fileName = [NSString stringWithFormat:[[CommonDigitalData sharedInstance] spacingStraightValue],timeSp];
        //: NSString *mimeType = @"video/mp4";
        NSString *mimeType = [[CommonDigitalData sharedInstance] k_sumConfig];
        //: [formData appendPartWithFileData:videoData name:@"video" fileName:fileName mimeType:mimeType];
        [formData modest:videoData list:[[CommonDigitalData sharedInstance] viewTooFormat] givenContent:fileName should:mimeType];
        //: [formData appendPartWithFileData:coverData name:@"picture" fileName:[NSString stringWithFormat:@"%@.jpg",timeSp] mimeType:@"image/jpg"];
        [formData modest:coverData list:[[CommonDigitalData sharedInstance] appHmmEvent] givenContent:[NSString stringWithFormat:[[CommonDigitalData sharedInstance] screenReadingPath],timeSp] should:[[CommonDigitalData sharedInstance] colorAutomatId]];
    //: } progress:^(NSProgress * _Nonnull uploadProgress) {
    } progress:^(NSProgress * _Nonnull uploadProgress) {
        //: if (progress) {
        if (progress) {
            //: progress(uploadProgress);
            progress(uploadProgress);
        }
    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } genuineFailure:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {

        //: success ? success(responseObject) : nil;
        success ? success(responseObject) : nil;
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } treatIngot:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed ? failed(nil ,error) : nil;
        failed ? failed(nil ,error) : nil;
    //: }];
    }];

    //: [[DenseSmartSpark sharedManager] addTask:t];
    [[DenseSmartSpark sharedDo] wood:t];
}

//: + (void)uploadFileWithURL:(NSString *)URL
+ (void)clean:(NSString *)URL
               //: parameters:(id)parameters
               account:(id)parameters
                     //: name:(NSString *)name
                     possess:(NSString *)name
                 //: filePath:(NSURL *)filePath
                 me:(NSURL *)filePath
                 //: progress:(HttpProgress)progress
                 occur:(HttpProgress)progress
                  //: success:(ResponseSuccess)success
                  failed:(ResponseSuccess)success
                   //: failed:(ResponseFailed)failed{
                   narrowDatabase:(ResponseFailed)failed{


    //: if (![URL containsString:@"http"]){
    if (![URL containsString:[[CommonDigitalData sharedInstance] commonHalfProductTimer]]){
        //: URL = RestApi(URL);
        URL = pendingApi(URL);
    }

    //: AFHTTPSessionManager *manager = [DenseSmartSpark sharedManager].manager;
    AFHTTPSessionManager *manager = [DenseSmartSpark sharedDo].regular;

    //: NSURLSessionDataTask *t = [manager POST:URL parameters:parameters headers:nil constructingBodyWithBlock:^(id<AFMultipartFormData> _Nonnull formData) {
    NSURLSessionDataTask *t = [manager layer:URL request:parameters arrangement:nil resume:^(id<AFMultipartFormData> _Nonnull formData) {
        //: NSError *error = nil;
        NSError *error = nil;
        //: [formData appendPartWithFileURL:filePath name:name error:&error];
        [formData contendOrbit:filePath fileMove:name rain_autoreleasing:&error];
        //: (failed && error) ? failed(nil ,error) : nil;
        (failed && error) ? failed(nil ,error) : nil;
    //: } progress:^(NSProgress * _Nonnull uploadProgress) {
    } progress:^(NSProgress * _Nonnull uploadProgress) {
        //: dispatch_sync(dispatch_get_main_queue(), ^{
        dispatch_sync(dispatch_get_main_queue(), ^{//上传进度
            //: progress ? progress(uploadProgress) : nil;
            progress ? progress(uploadProgress) : nil;
        //: });
        });
    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } genuineFailure:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
        //: success ? success(responseObject) : nil;
        success ? success(responseObject) : nil;

    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } treatIngot:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed ? failed(nil ,error) : nil;
        failed ? failed(nil ,error) : nil;
    //: }];
    }];
    //: [[DenseSmartSpark sharedManager] addTask:t];
    [[DenseSmartSpark sharedDo] wood:t];
}

//: + (void)uploadImagesWithURL:(NSString *)URL
+ (void)representation:(NSString *)URL
                 //: parameters:(id)parameters
                 cur:(id)parameters
                       //: name:(NSString *)name
                       exclusive:(NSString *)name
                     //: images:(NSArray<UIImage *> *)images
                     land_strong:(NSArray<UIImage *> *)images
                  //: fileNames:(NSArray<NSString *> *)fileNames
                  wing:(NSArray<NSString *> *)fileNames
                 //: imageScale:(CGFloat)imageScale
                 boldFloat:(CGFloat)imageScale
                  //: imageType:(NSString *)imageType
                  enter:(NSString *)imageType
                   //: progress:(HttpProgress)progress
                   image:(HttpProgress)progress
                    //: success:(ResponseSuccess)success
                    buildResponseSuccess:(ResponseSuccess)success
                     //: failed:(ResponseFailed)failed{
                     deliverProduct:(ResponseFailed)failed{

    //: AFHTTPSessionManager *manager = [DenseSmartSpark sharedManager].manager;
    AFHTTPSessionManager *manager = [DenseSmartSpark sharedDo].regular;
    //: NSURLSessionDataTask *t = [manager POST:URL parameters:parameters headers:nil constructingBodyWithBlock:^(id<AFMultipartFormData> _Nonnull formData) {
    NSURLSessionDataTask *t = [manager layer:URL request:parameters arrangement:nil resume:^(id<AFMultipartFormData> _Nonnull formData) {

        //: for (NSUInteger i = 0; i < images.count; i++) {
        for (NSUInteger i = 0; i < images.count; i++) {
            //: NSData *imageData = UIImageJPEGRepresentation(images[i], imageScale ?: 1.f);
            NSData *imageData = UIImageJPEGRepresentation(images[i], imageScale ?: 1.f);// 图片经过等比压缩后得到的二进制文件
            //: NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
            NSDateFormatter *formatter = [[NSDateFormatter alloc] init];// 默认图片的文件名, 若fileNames为nil就使用
            //: formatter.dateFormat = @"yyyyMMddHHmmss";
            formatter.dateFormat = [[CommonDigitalData sharedInstance] colorImagineTimer];
            //: NSString *str = [formatter stringFromDate:[NSDate date]];
            NSString *str = [formatter stringFromDate:[NSDate date]];
            //: NSString *imageFileName = [NSString stringWithFormat:@"%@%ld.%@",str,i,imageType?:@"jpg"];
            NSString *imageFileName = [NSString stringWithFormat:@"%@%ld.%@",str,i,imageType?:[[CommonDigitalData sharedInstance] screenReceivePlatform]];

            //: NSString *fileName = fileNames ? [NSString stringWithFormat:@"%@.%@",fileNames[i],imageType?:@"jpg"] : imageFileName;
            NSString *fileName = fileNames ? [NSString stringWithFormat:@"%@.%@",fileNames[i],imageType?:[[CommonDigitalData sharedInstance] screenReceivePlatform]] : imageFileName;
            //: NSString *mimeType = [NSString stringWithFormat:@"image/%@",imageType ?: @"jpg"];
            NSString *mimeType = [NSString stringWithFormat:[[CommonDigitalData sharedInstance] themeCommandDevice],imageType ?: [[CommonDigitalData sharedInstance] screenReceivePlatform]];
            //: [formData appendPartWithFileData:imageData name:name fileName:fileName mimeType:mimeType];
            [formData modest:imageData list:name givenContent:fileName should:mimeType];
        }
    //: } progress:^(NSProgress * _Nonnull uploadProgress) {
    } progress:^(NSProgress * _Nonnull uploadProgress) {
        //: if (progress) {
        if (progress) {
            //: progress(uploadProgress);
            progress(uploadProgress);
        }
    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } genuineFailure:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
        //: success ? success(responseObject) : nil;
        success ? success(responseObject) : nil;
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } treatIngot:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed ? failed(nil ,error) : nil;
        failed ? failed(nil ,error) : nil;
    //: }];
    }];

    //: [[DenseSmartSpark sharedManager] addTask:t];
    [[DenseSmartSpark sharedDo] wood:t];
}

//: - (id)init{
- (id)init{
    //: if (self = [super init]) {
    if (self = [super init]) {
        //: AFSecurityPolicy *securityPolicy = [DenseSmartSpark defaultSecurityPolicy];
        AFSecurityPolicy *securityPolicy = [DenseSmartSpark front];
        //: _manager = [AFHTTPSessionManager manager];
        _regular = [AFHTTPSessionManager angle];
        //: _manager.securityPolicy = securityPolicy;
        _regular.identifyPorted = securityPolicy;
        //: _manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@"application/json", @"text/json", @"text/javascript",@"text/plain",@"text/html", nil];
        _regular.unslopedDeeping.oddSearches = [NSSet setWithObjects:[[CommonDigitalData sharedInstance] kCattlePath], [[CommonDigitalData sharedInstance] k_connectDigitalAlert], [[CommonDigitalData sharedInstance] featurePassingMessage],[[CommonDigitalData sharedInstance] viewContainerAlert],[[CommonDigitalData sharedInstance] kWorkshopData], nil];
        //_dbQueue = [[HMDBManager shareManager] dbQueue];

    }
    //: return self;
    return self;
}

//取消网络请求
//: + (void)cancelRequestWithURLString:(NSString *)URLString{
+ (void)wordForm:(NSString *)URLString{

//    if ([[HMDataRequest shareDataRequest] ifRequesting]) {
//        NSMutableDictionary *taskDic = [[HMDataRequest shareDataRequest] taskQueue];
//        //HMLog(@"----没有结束的队列====%lu", (unsigned long)taskDic.allKeys.count);
//
//        [taskDic enumerateKeysAndObjectsUsingBlock:^(id  _Nonnull key, id  _Nonnull obj, BOOL * _Nonnull stop) {
//
//            if (((NSURLSessionDataTask *)obj).state != NSURLSessionTaskStateCompleted
//                && [[((NSURLSessionDataTask *)obj).currentRequest.URL absoluteString] rangeOfString:URLString].location != NSNotFound) {
//
//                HMLog(@"----end----%@", [((NSURLSessionDataTask *)obj).currentRequest.URL absoluteString]);
//
//                [((NSURLSessionDataTask *)obj) cancel];
//
//            }
//        }];
//    }


}


//: - (BOOL)ifRequesting{
- (BOOL)instance{
//    NSMutableDictionary *taskDic = objc_getAssociatedObject(self, @selector(addTask:));
//
//    if (taskDic && taskDic.allKeys.count>0) {
//        return YES;
//    }
    //: return NO;
    return NO;
}

//: + (void)postWithUrl: (NSString *)urlStr
+ (void)artifact: (NSString *)urlStr
             //: params: (NSDictionary *)params
             consume: (NSDictionary *)params
             //: isShow: (BOOL)isShow
             occurrent: (BOOL)isShow
            //: success: (ResponseSuccess)success
            drawKey: (ResponseSuccess)success
             //: failed: (ResponseFailed)failed{
             remarkNaturalEventFailed: (ResponseFailed)failed{

    //: if (![urlStr containsString:@"http"]){
    if (![urlStr containsString:[[CommonDigitalData sharedInstance] commonHalfProductTimer]]){
        //: urlStr = RestApi(urlStr);
        urlStr = pendingApi(urlStr);
    }

    //: [self postWithUrl:urlStr params:params isShow:isShow cacheTime:0 mustResrush:YES success:success failed:failed];
    [self myPress:urlStr resource:params app:isShow sumeraction:0 goPic:YES methodReceive:success dropOriginal:failed];
}

//: - (void)cancelRequest{
- (void)corniceSpeed{

    //: if ([self ifRequesting]) {
    if ([self instance]) {
        //: NSMutableDictionary *taskDic = [[DenseSmartSpark sharedManager] taskQueue];
        NSMutableDictionary *taskDic = [[DenseSmartSpark sharedDo] decentWeek];
        //HMLog(@"----没有结束的队列====%lu", (unsigned long)taskDic.allKeys.count);

        //: [taskDic enumerateKeysAndObjectsUsingBlock:^(id _Nonnull key, id _Nonnull obj, BOOL * _Nonnull stop) {
        [taskDic enumerateKeysAndObjectsUsingBlock:^(id _Nonnull key, id _Nonnull obj, BOOL * _Nonnull stop) {
            //: if (((NSURLSessionDataTask *)obj).state != NSURLSessionTaskStateCompleted) {
            if (((NSURLSessionDataTask *)obj).state != NSURLSessionTaskStateCompleted) {
                //: [((NSURLSessionDataTask *)obj) cancel];
                [((NSURLSessionDataTask *)obj) cancel];
            }
        //: }];
        }];
    }
}

/**
 *https验证
 */
//: + (AFSecurityPolicy *)customSecurityPolicy {
+ (AFSecurityPolicy *)character {
    // /先导入证书
    //: NSString *cerPath = [[NSBundle mainBundle] pathForResource:@"xiaokaapi.com" ofType:@"cer"]; 
    NSString *cerPath = [[NSBundle mainBundle] pathForResource:[[CommonDigitalData sharedInstance] widgetActualPath] ofType:[[CommonDigitalData sharedInstance] kCloudError]]; //证书的路径
    //: NSData *certData = [NSData dataWithContentsOfFile:cerPath];
    NSData *certData = [NSData dataWithContentsOfFile:cerPath];
    // AFSSLPinningModeCertificate 使用证书验证模式
    //: AFSecurityPolicy *securityPolicy = [AFSecurityPolicy policyWithPinningMode:AFSSLPinningModePublicKey];
    AFSecurityPolicy *securityPolicy = [AFSecurityPolicy sense:AFSSLPinningModePublicKey];

    // allowInvalidCertificates 是否允许无效证书（也就是自建的证书），默认为NO
    // 如果是需要验证自建证书，需要设置为YES
    //: securityPolicy.allowInvalidCertificates = NO;
    securityPolicy.validCompleted = NO;

    //validatesDomainName 是否需要验证域名，默认为YES；
    //假如证书的域名与你请求的域名不一致，需把该项设置为NO；如设成NO的话，即服务器使用其他可信任机构颁发的证书，也可以建立连接，这个非常危险，建议打开。
    //置为NO，主要用于这种情况：客户端请求的是子域名，而证书上的是另外一个域名。因为SSL证书上的域名是独立的，假如证书上注册的域名是www.google.com，那么mail.google.com是无法验证通过的；当然，有钱可以注册通配符的域名*.google.com，但这个还是比较贵的。
    //如置为NO，建议自己添加对应域名的校验逻辑。
    //: securityPolicy.validatesDomainName = YES;
    securityPolicy.domainEvaluates = YES;
    //: securityPolicy.pinnedCertificates = [NSSet setWithArray:@[certData]];
    securityPolicy.forewordCaptured = [NSSet setWithArray:@[certData]];
    //: return securityPolicy;
    return securityPolicy;
}


//sha1加密方式
//: + (NSString *)sha1:(NSString *)input
+ (NSString *)sky:(NSString *)input
{
    //const char *cstr = [input cStringUsingEncoding:NSUTF8StringEncoding];
    //NSData *data = [NSData dataWithBytes:cstr length:input.length];

     //: NSData *data = [input dataUsingEncoding:NSUTF8StringEncoding];
     NSData *data = [input dataUsingEncoding:NSUTF8StringEncoding];
    //: uint8_t digest[20];
    uint8_t digest[20];

    //: CC_SHA1(data.bytes, (unsigned int)data.length, digest);
    CC_SHA1(data.bytes, (unsigned int)data.length, digest);
    //: NSMutableString *output = [NSMutableString stringWithCapacity:20 * 2];
    NSMutableString *output = [NSMutableString stringWithCapacity:20 * 2];
    //: for(int i=0; i<20; i++) {
    for(int i=0; i<20; i++) {
        //: [output appendFormat:@"%02x", digest[i]];
        [output appendFormat:@"%02x", digest[i]];
    }

    //: return output;
    return output;
}




//: - (void)removeTask:(NSURLSessionDataTask *)task{
- (void)exceptSub:(NSURLSessionDataTask *)task{
    //: if ([self ifRequesting]) {
    if ([self instance]) {
        //: NSMutableDictionary *taskQueue = [self taskQueue];
        NSMutableDictionary *taskQueue = [self decentWeek];

        //: [taskQueue removeObjectForKey:@([NSDate date].timeIntervalSince1970)];
        [taskQueue removeObjectForKey:@([NSDate date].timeIntervalSince1970)];
    }
}




//: + (NSString *)getNowTimeTimestamp{
+ (NSString *)stack{

    //: NSDate *datenow = [NSDate date];
    NSDate *datenow = [NSDate date];
    //: NSTimeZone *zone = [NSTimeZone localTimeZone];
    NSTimeZone *zone = [NSTimeZone localTimeZone];
  // 获取指定时间所在时区与UTC时区的间隔秒数
  //: NSInteger seconds = [zone secondsFromGMTForDate:[NSDate date]];
  NSInteger seconds = [zone secondsFromGMTForDate:[NSDate date]];
  //: NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[datenow timeIntervalSince1970] - seconds];
  NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[datenow timeIntervalSince1970] - seconds];
  //: return timeSp;
  return timeSp;
}

//: + (void)uploadImagesWithURL:(NSString *)URL
+ (void)restoreFailed:(NSString *)URL
                 //: parameters:(id)parameters
                 circleCandid:(id)parameters
                     //: images:(NSArray<NSData *> *)images
                     cur:(NSArray<NSData *> *)images
                 //: imageNames:(NSArray<NSString *> *)imageNames
                 attribute:(NSArray<NSString *> *)imageNames
                   //: progress:(HttpProgress)progress
                   radiate:(HttpProgress)progress
                    //: success:(ResponseSuccess)success
                    mark:(ResponseSuccess)success
                     //: failed:(ResponseFailed)failed{
                     success:(ResponseFailed)failed{

    //: if (![URL containsString:@"http"]){
    if (![URL containsString:[[CommonDigitalData sharedInstance] commonHalfProductTimer]]){
        //: URL = RestApi(URL);
        URL = pendingApi(URL);
    }

    //: AFHTTPSessionManager *manager = [DenseSmartSpark sharedManager].manager;
    AFHTTPSessionManager *manager = [DenseSmartSpark sharedDo].regular;
    //: NSURLSessionDataTask *t = [manager POST:URL parameters:parameters headers:nil constructingBodyWithBlock:^(id<AFMultipartFormData> _Nonnull formData) {
    NSURLSessionDataTask *t = [manager layer:URL request:parameters arrangement:nil resume:^(id<AFMultipartFormData> _Nonnull formData) {
        //: for (NSUInteger i = 0; i < images.count; i++) {
        for (NSUInteger i = 0; i < images.count; i++) {
            //NSData *imageData = UIImageJPEGRepresentation(images[i], 0.5);// 图片经过等比压缩后得到的二进制文件
            //: NSData *imageData = images[i];
            NSData *imageData = images[i];

            //: NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];
            NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];

            //: NSString *imageTypeSuffix = @"jpg";
            NSString *imageTypeSuffix = [[CommonDigitalData sharedInstance] screenReceivePlatform];
            //: SDImageFormat imageType = [NSData sd_imageFormatForImageData:imageData];
            SDImageFormat imageType = [NSData sd_imageFormatForImageData:imageData];
            //: switch (imageType) {
            switch (imageType) {
                //: case SDImageFormatJPEG:
                case SDImageFormatJPEG:
                    //: imageTypeSuffix = @"jpg";
                    imageTypeSuffix = [[CommonDigitalData sharedInstance] screenReceivePlatform];
                    //: break;
                    break;
                //: case SDImageFormatPNG:
                case SDImageFormatPNG:
                    //: imageTypeSuffix = @"png";
                    imageTypeSuffix = [[CommonDigitalData sharedInstance] viewNoticeCeilingSettings];
                    //: break;
                    break;
                //: case SDImageFormatGIF:
                case SDImageFormatGIF:
                    //: imageTypeSuffix = @"gif";
                    imageTypeSuffix = [[CommonDigitalData sharedInstance] kCharacteristicHelper];
                    //: break;
                    break;
                //: default:
                default:
                    //: break;
                    break;
            }
            //: NSString *fileName = [NSString stringWithFormat:@"%@%ld.%@",timeSp,i,imageTypeSuffix];
            NSString *fileName = [NSString stringWithFormat:@"%@%ld.%@",timeSp,i,imageTypeSuffix];
            //: NSString *mimeType = [NSString stringWithFormat:@"image/%@",imageTypeSuffix];
            NSString *mimeType = [NSString stringWithFormat:[[CommonDigitalData sharedInstance] themeCommandDevice],imageTypeSuffix];
//            NSString *mimeType = @"video/mp4";

            //: NSString *name = [imageNames objectAtIndex:i] ? :@"image";
            NSString *name = [imageNames objectAtIndex:i] ? :[[CommonDigitalData sharedInstance] layoutAutomatKey];
            //: [formData appendPartWithFileData:imageData name:name fileName:fileName mimeType:mimeType];
            [formData modest:imageData list:name givenContent:fileName should:mimeType];
        }
    //: } progress:^(NSProgress * _Nonnull uploadProgress) {
    } progress:^(NSProgress * _Nonnull uploadProgress) {
        //: if (progress) {
        if (progress) {
            //: progress(uploadProgress);
            progress(uploadProgress);
        }
    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } genuineFailure:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {

        //: success ? success(responseObject) : nil;
        success ? success(responseObject) : nil;
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } treatIngot:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed ? failed(nil ,error) : nil;
        failed ? failed(nil ,error) : nil;
    //: }];
    }];

    //: [[DenseSmartSpark sharedManager] addTask:t];
    [[DenseSmartSpark sharedDo] wood:t];
}

//: + (void)getWithUrl: (NSString *)urlStr
+ (void)eye: (NSString *)urlStr
            //: params: (NSDictionary *)params
            currentFailed: (NSDictionary *)params
            //: isShow: (BOOL)isShow
            suggestTime: (BOOL)isShow
         //: cacheTime: (int)cacheDuration
         pick: (int)cacheDuration
       //: mustResrush: (BOOL)mustResrush
       among: (BOOL)mustResrush
           //: success: (ResponseSuccess)success
           emotionFailed: (ResponseSuccess)success
            //: failed: (ResponseFailed)failed{
            under: (ResponseFailed)failed{

    //: if (isShow) {
    if (isShow) {
            //: [PromptHeathPlain show];
            [PromptHeathPlain pickShow];
        }
    //: AFHTTPSessionManager *manager = [DenseSmartSpark sharedManager].manager;
    AFHTTPSessionManager *manager = [DenseSmartSpark sharedDo].regular;
    //添加请求头
    //: NSString *loginToken = [TacticRouteMergeHandler standardUserDefaults].loginToken;
    NSString *loginToken = [TacticRouteMergeHandler defaultsGray].grounds;
    //: NSString *lang = emptyString([TacticRouteMergeHandler standardUserDefaults].language);
    NSString *lang = spacePackthread([TacticRouteMergeHandler defaultsGray].preciseLarge);
    //: [manager.requestSerializer setValue:lang forHTTPHeaderField:@"lang"];
    [manager.treatFriending gate:lang extend:[[CommonDigitalData sharedInstance] appRemData]];

    //: if ([TacticRouteMergeHandler standardUserDefaults].loginToken.length > 0) {
    if ([TacticRouteMergeHandler defaultsGray].grounds.length > 0) {

        //: [manager.requestSerializer setValue:loginToken forHTTPHeaderField:@"token"];
        [manager.treatFriending gate:loginToken extend:[[CommonDigitalData sharedInstance] widgetExecutePath]];
    }
    //: NSURLSessionDataTask *task = [manager GET:urlStr parameters:params headers:nil progress:^(NSProgress * _Nonnull downloadProgress) {
    NSURLSessionDataTask *task = [manager flameGet:urlStr timeQuantity:params joint:nil retention:^(NSProgress * _Nonnull downloadProgress) {

    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } getClick:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {

        //: if (![urlStr containsString:@"systemSetting"] && ![urlStr containsString:@"loginip"] && ![urlStr containsString:@"appSetting"] && ![urlStr containsString:@"ismustmobile"]) {
        if (![urlStr containsString:[[CommonDigitalData sharedInstance] coreLargelyValue]] && ![urlStr containsString:[[CommonDigitalData sharedInstance] appCommonSocietyHelper]] && ![urlStr containsString:[[CommonDigitalData sharedInstance] widgetCordHelper]] && ![urlStr containsString:[[CommonDigitalData sharedInstance] themeStretchSoleTimer]]) {
         }
        //: if (isShow) {
        if (isShow) {
            //: [PromptHeathPlain dismissWithDelay:0.25];
            [PromptHeathPlain assets:0.25];
        }
        //: success(responseObject);
        success(responseObject);
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } tactic:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: if (isShow) {
        if (isShow) {
            //: [PromptHeathPlain dismissWithDelay:0.25];
            [PromptHeathPlain assets:0.25];
        }
        //: failed(nil ,error);
        failed(nil ,error);
    //: }];
    }];
    //: [[DenseSmartSpark sharedManager] addTask:task];
    [[DenseSmartSpark sharedDo] wood:task];
}

//: + (void)uploadImagesWithURL:(NSString *)URL
+ (void)team:(NSString *)URL
                 //: parameters:(id)parameters
                 replaceScience:(id)parameters
                     //: images:(NSArray<NSData *> *)images
                     component:(NSArray<NSData *> *)images
                   //: progress:(HttpProgress)progress
                   runningFailed:(HttpProgress)progress
                    //: success:(ResponseSuccess)success
                    carryOver:(ResponseSuccess)success
                     //: failed:(ResponseFailed)failed{
                     legacy:(ResponseFailed)failed{

    //: if (![URL containsString:@"http"]){
    if (![URL containsString:[[CommonDigitalData sharedInstance] commonHalfProductTimer]]){
        //: URL = RestApi(URL);
        URL = pendingApi(URL);
    }

    //: AFHTTPSessionManager *manager = [DenseSmartSpark sharedManager].manager;
    AFHTTPSessionManager *manager = [DenseSmartSpark sharedDo].regular;
    //: NSString *lang = emptyString([TacticRouteMergeHandler standardUserDefaults].language);
    NSString *lang = spacePackthread([TacticRouteMergeHandler defaultsGray].preciseLarge);
    //: [manager.requestSerializer setValue:lang forHTTPHeaderField:@"lang"];
    [manager.treatFriending gate:lang extend:[[CommonDigitalData sharedInstance] appRemData]];

    //: NSURLSessionDataTask *t = [manager POST:URL parameters:parameters headers:nil constructingBodyWithBlock:^(id<AFMultipartFormData> _Nonnull formData) {
    NSURLSessionDataTask *t = [manager layer:URL request:parameters arrangement:nil resume:^(id<AFMultipartFormData> _Nonnull formData) {
        //: for (NSUInteger i = 0; i < images.count; i++) {
        for (NSUInteger i = 0; i < images.count; i++) {
            //NSData *imageData = UIImageJPEGRepresentation(images[i], 0.5);// 图片经过等比压缩后得到的二进制文件
            //: NSData *imageData = images[i];
            NSData *imageData = images[i];

            //: NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];
            NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];

            //: NSString *imageTypeSuffix = @"jpg";
            NSString *imageTypeSuffix = [[CommonDigitalData sharedInstance] screenReceivePlatform];
            //: SDImageFormat imageType = [NSData sd_imageFormatForImageData:imageData];
            SDImageFormat imageType = [NSData sd_imageFormatForImageData:imageData];
            //: switch (imageType) {
            switch (imageType) {
                //: case SDImageFormatJPEG:
                case SDImageFormatJPEG:
                    //: imageTypeSuffix = @"jpg";
                    imageTypeSuffix = [[CommonDigitalData sharedInstance] screenReceivePlatform];
                    //: break;
                    break;
                //: case SDImageFormatPNG:
                case SDImageFormatPNG:
                    //: imageTypeSuffix = @"png";
                    imageTypeSuffix = [[CommonDigitalData sharedInstance] viewNoticeCeilingSettings];
                    //: break;
                    break;
                //: case SDImageFormatGIF:
                case SDImageFormatGIF:
                    //: imageTypeSuffix = @"gif";
                    imageTypeSuffix = [[CommonDigitalData sharedInstance] kCharacteristicHelper];
                    //: break;
                    break;
                //: default:
                default:
                    //: break;
                    break;
            }
            //: NSString *fileName = [NSString stringWithFormat:@"%@%ld.%@",timeSp,i,imageTypeSuffix];
            NSString *fileName = [NSString stringWithFormat:@"%@%ld.%@",timeSp,i,imageTypeSuffix];
            //: NSString *mimeType = [NSString stringWithFormat:@"image/%@",imageTypeSuffix];
            NSString *mimeType = [NSString stringWithFormat:[[CommonDigitalData sharedInstance] themeCommandDevice],imageTypeSuffix];
//            NSString *mimeType = @"video/mp4";
            //: [formData appendPartWithFileData:imageData name:@"image" fileName:fileName mimeType:mimeType];
            [formData modest:imageData list:[[CommonDigitalData sharedInstance] layoutAutomatKey] givenContent:fileName should:mimeType];
        }
    //: } progress:^(NSProgress * _Nonnull uploadProgress) {
    } progress:^(NSProgress * _Nonnull uploadProgress) {
        //: if (progress) {
        if (progress) {
            //: progress(uploadProgress);
            progress(uploadProgress);
        }
    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } genuineFailure:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {

        //: success ? success(responseObject) : nil;
        success ? success(responseObject) : nil;
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } treatIngot:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed ? failed(nil ,error) : nil;
        failed ? failed(nil ,error) : nil;
    //: }];
    }];

    //: [[DenseSmartSpark sharedManager] addTask:t];
    [[DenseSmartSpark sharedDo] wood:t];
}

//: - (NSMutableDictionary *)taskQueue{
- (NSMutableDictionary *)decentWeek{
//    NSMutableDictionary *taskDic = objc_getAssociatedObject(self, @selector(addTask:));
//
//    if (!taskDic) {
//        taskDic = @{}.mutableCopy;
//        objc_setAssociatedObject(self, @selector(addTask:), taskDic, OBJC_ASSOCIATION_RETAIN_NONATOMIC);
//    }
//    return taskDic;
    //: return nil;
    return nil;
}

//: + (void)postWithUrl: (NSString *)urlStr
+ (void)with: (NSString *)urlStr
           //: checksum: (NSString *)checksum
           slump: (NSString *)checksum
              //: nonce: (NSString *)nonce
              safely: (NSString *)nonce
            //: CurTime: (NSString *)CurTime
            sane: (NSString *)CurTime
             //: params: (NSDictionary *)params
             ringPart: (NSDictionary *)params
            //: success: (ResponseSuccess)success
            bind: (ResponseSuccess)success
             //: failed: (ResponseFailed)failed
             decent: (ResponseFailed)failed
{
    //: AFHTTPSessionManager *manager = [DenseSmartSpark sharedManager].manager;
    AFHTTPSessionManager *manager = [DenseSmartSpark sharedDo].regular;

    //添加请求头
    //: NSString *appKey = [[FeatureBuilderFabricStop sharedConfig] appKey];
    NSString *appKey = [[FeatureBuilderFabricStop ground] latchkey];
    //: [manager.requestSerializer setValue:appKey forHTTPHeaderField:@"AppKey"];
    [manager.treatFriending gate:appKey extend:[[CommonDigitalData sharedInstance] commonNumbereractionText]];
//    NSString *nonce = [NSString stringWithFormat:@"%d",arc4random() % 100 ];
    //: [manager.requestSerializer setValue:nonce forHTTPHeaderField:@"Nonce"];
    [manager.treatFriending gate:nonce extend:[[CommonDigitalData sharedInstance] widgetSimpleError]];
//    NSString *time = [self getNowTimeTimestamp];
    //: [manager.requestSerializer setValue:CurTime forHTTPHeaderField:@"CurTime"];
    [manager.treatFriending gate:CurTime extend:[[CommonDigitalData sharedInstance] colorViewCapabilityKey]];
//    NSString *CheckSums = [self sha1:[NSString stringWithFormat:@"%@%@%@",appKey,nonce,time]];
    //: [manager.requestSerializer setValue:checksum forHTTPHeaderField:@"CheckSum"];
    [manager.treatFriending gate:checksum extend:[[CommonDigitalData sharedInstance] componentExecuteConfig]];


    //: NSURLSessionDataTask *task = [manager POST:urlStr parameters:params headers:nil progress:^(NSProgress * _Nonnull uploadProgress) {
    NSURLSessionDataTask *task = [manager spotBefore:urlStr speed:params be:nil flunk:^(NSProgress * _Nonnull uploadProgress) {

    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } lakeFailure:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
        //: success(responseObject);
        success(responseObject);
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } dent:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed(nil ,error);
        failed(nil ,error);
    //: }];
    }];
    //: [[DenseSmartSpark sharedManager] addTask:task];
    [[DenseSmartSpark sharedDo] wood:task];
}

//: @end
@end