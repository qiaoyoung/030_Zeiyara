
#import <Foundation/Foundation.h>
typedef struct {
    Byte mushroom;
    Byte *second;
    unsigned int search;
    Byte outerSpace;
	int sole;
	int contextTheme;
} TotaleractionData;

NSString *StringFromTotaleractionData(TotaleractionData *data);


//: 000000
TotaleractionData componentPassingError = (TotaleractionData){187, (Byte []){139, 139, 139, 139, 139, 139, 163}, 6, 218, 237, 63};

//: ic_btn_disaccept
TotaleractionData layoutSpecialCommandConfig = (TotaleractionData){227, (Byte []){138, 128, 188, 129, 151, 141, 188, 135, 138, 144, 130, 128, 128, 134, 147, 151, 169}, 16, 215, 66, 136};

//: 未知请求
TotaleractionData styleUniformWatchPath = (TotaleractionData){242, (Byte []){20, 110, 88, 21, 109, 87, 26, 93, 69, 20, 67, 112, 216}, 12, 205, 207, 78};

//: #05AAF4
TotaleractionData styleProductPreference = (TotaleractionData){134, (Byte []){165, 182, 179, 199, 199, 192, 178, 69}, 7, 224, 223, 208};

//: #F6F6F6
TotaleractionData k_hourPlatform = (TotaleractionData){34, (Byte []){1, 100, 20, 100, 20, 100, 20, 66}, 7, 184, 224, 146};

//: #999999
TotaleractionData k_analyzeError = (TotaleractionData){88, (Byte []){123, 97, 97, 97, 97, 97, 97, 13}, 7, 204, 182, 231};

//: message_helper_refuse_you
TotaleractionData widgetLetterName = (TotaleractionData){235, (Byte []){134, 142, 152, 152, 138, 140, 142, 180, 131, 142, 135, 155, 142, 153, 180, 153, 142, 141, 158, 152, 142, 180, 146, 132, 158, 42}, 25, 248, 109, 250};

//: rejected_group_invitation
TotaleractionData colorConnectText = (TotaleractionData){96, (Byte []){18, 5, 10, 5, 3, 20, 5, 4, 63, 7, 18, 15, 21, 16, 63, 9, 14, 22, 9, 20, 1, 20, 9, 15, 14, 139}, 25, 206, 79, 29};

//: message_helper_allow_you_apply
TotaleractionData k_viewUtility = (TotaleractionData){176, (Byte []){221, 213, 195, 195, 209, 215, 213, 239, 216, 213, 220, 192, 213, 194, 239, 209, 220, 220, 223, 199, 239, 201, 223, 197, 239, 209, 192, 192, 220, 201, 40}, 30, 171, 40, 227};

//: ic_btn_accept
TotaleractionData viewPartyTimer = (TotaleractionData){152, (Byte []){241, 251, 199, 250, 236, 246, 199, 249, 251, 251, 253, 232, 236, 132}, 13, 157, 86, 108};

//: message_helper_already_time
TotaleractionData kSceneForestUtility = (TotaleractionData){195, (Byte []){174, 166, 176, 176, 162, 164, 166, 156, 171, 166, 175, 179, 166, 177, 156, 162, 175, 177, 166, 162, 167, 186, 156, 183, 170, 174, 166, 132}, 27, 248, 230, 63};

//: message_helper_already_ok
TotaleractionData componentCloudMessage = (TotaleractionData){190, (Byte []){211, 219, 205, 205, 223, 217, 219, 225, 214, 219, 210, 206, 219, 204, 225, 223, 210, 204, 219, 223, 218, 199, 225, 209, 213, 202}, 25, 175, 139, 96};

//: %@ attach:%@
TotaleractionData featureFeedbackReachSettings = (TotaleractionData){99, (Byte []){70, 35, 67, 2, 23, 23, 2, 0, 11, 89, 70, 35, 3}, 12, 152, 129, 123};

//: invite_you_join_us
TotaleractionData widgetNumbereractionMessage = (TotaleractionData){18, (Byte []){123, 124, 100, 123, 102, 119, 77, 107, 125, 103, 77, 120, 125, 123, 124, 77, 103, 97, 89}, 18, 226, 181, 61};

//: message_helper_invite
TotaleractionData coreSearchPlatform = (TotaleractionData){150, (Byte []){251, 243, 229, 229, 247, 241, 243, 201, 254, 243, 250, 230, 243, 228, 201, 255, 248, 224, 255, 226, 243, 118}, 21, 175, 144, 88};

//: request_add_you_as_a_friend
TotaleractionData themeLedgeDarkTimer = (TotaleractionData){198, (Byte []){180, 163, 183, 179, 163, 181, 178, 153, 167, 162, 162, 153, 191, 169, 179, 153, 167, 181, 153, 167, 153, 160, 180, 175, 163, 168, 162, 242}, 27, 169, 185, 205};

//: message_helper_apply_to_group
TotaleractionData commonRockUtility = (TotaleractionData){16, (Byte []){125, 117, 99, 99, 113, 119, 117, 79, 120, 117, 124, 96, 117, 98, 79, 113, 96, 96, 124, 105, 79, 100, 127, 79, 119, 98, 127, 101, 96, 1}, 29, 184, 4, 86};

//: message_helper_already_add
TotaleractionData kVendorPreference = (TotaleractionData){89, (Byte []){52, 60, 42, 42, 56, 62, 60, 6, 49, 60, 53, 41, 60, 43, 6, 56, 53, 43, 60, 56, 61, 32, 6, 56, 61, 61, 234}, 26, 237, 249, 146};

//: is_read
TotaleractionData appQuitNeatTimer = (TotaleractionData){188, (Byte []){213, 207, 227, 206, 217, 221, 216, 203}, 7, 245, 55, 143};

//: apply_join_supergroup
TotaleractionData featureHourDevice = (TotaleractionData){167, (Byte []){198, 215, 215, 203, 222, 248, 205, 200, 206, 201, 248, 212, 210, 215, 194, 213, 192, 213, 200, 210, 215, 92}, 21, 184, 129, 93};

//: message_helper_refuse_group
TotaleractionData featureThemeId = (TotaleractionData){114, (Byte []){31, 23, 1, 1, 19, 21, 23, 45, 26, 23, 30, 2, 23, 0, 45, 0, 23, 20, 7, 1, 23, 45, 21, 0, 29, 7, 2, 43}, 27, 240, 118, 10};

//: contact_fragment_group
TotaleractionData coreActionHelper = (TotaleractionData){172, (Byte []){207, 195, 194, 216, 205, 207, 216, 243, 202, 222, 205, 203, 193, 201, 194, 216, 243, 203, 222, 195, 217, 220, 97}, 22, 153, 224, 31};

//: to_deny_entry
TotaleractionData coreLetterReceiveMessage = (TotaleractionData){194, (Byte []){182, 173, 157, 166, 167, 172, 187, 157, 167, 172, 182, 176, 187, 124}, 13, 205, 191, 162};

//: message_helper_refuse_you_apply
TotaleractionData moduleArgumentEvent = (TotaleractionData){82, (Byte []){63, 55, 33, 33, 51, 53, 55, 13, 58, 55, 62, 34, 55, 32, 13, 32, 55, 52, 39, 33, 55, 13, 43, 61, 39, 13, 51, 34, 34, 62, 43, 112}, 31, 195, 133, 176};

//: large_group
TotaleractionData componentDigitalPreference = (TotaleractionData){128, (Byte []){236, 225, 242, 231, 229, 223, 231, 242, 239, 245, 240, 167}, 11, 176, 127, 28};

//: invite_you_group
TotaleractionData commonCalmUtility = (TotaleractionData){246, (Byte []){159, 152, 128, 159, 130, 147, 169, 143, 153, 131, 169, 145, 132, 153, 131, 134, 1}, 16, 221, 137, 209};

//: message_helper_already_no
TotaleractionData screenStandFormat = (TotaleractionData){86, (Byte []){59, 51, 37, 37, 55, 49, 51, 9, 62, 51, 58, 38, 51, 36, 9, 55, 58, 36, 51, 55, 50, 47, 9, 56, 57, 23}, 25, 201, 68, 40};

// __DEBUG__
// __CLOSE_PRINT__
//
//  DeliverMineCentralPleased.m
//  NIM
//
//  Created by amao on 3/17/15.
//  Copyright (c) 2015 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "DeliverMineCentralPleased.h"
#import "DeliverMineCentralPleased.h"
//: #import "UIView+Layout.h"
#import "UIView+Layout.h"
//: #import "MuseCoordinateTide.h"
#import "MuseCoordinateTide.h"
//: #import "UpdaterCanyonShoreLoad.h"
#import "UpdaterCanyonShoreLoad.h"

//: @interface DeliverMineCentralPleased ()
@interface DeliverMineCentralPleased ()

//: @property (nonatomic,strong) NIMSystemNotification *notification;
@property (nonatomic,strong) NIMSystemNotification *commercialism;
//@property (nonatomic,strong) IBOutlet MuseCoordinateTide *avatarImageView;
//: @end
@end

//: @implementation DeliverMineCentralPleased
@implementation DeliverMineCentralPleased

//: - (void)update:(NIMSystemNotification *)notification{
- (void)mode:(NIMSystemNotification *)notification{
    //: self.notification = notification;
    self.commercialism = notification;
    //: [self updateUI];
    [self directorLightSampleUi];
}

//: - (void)onAcceptBtn{
- (void)resignBuilder{
    //: if (_actionDelegate && [_actionDelegate respondsToSelector:@selector(onAccept:)]){
    if (_dark && [_dark respondsToSelector:@selector(documentAccept:)]){
        //: [_actionDelegate onAccept:self.notification];
        [_dark documentAccept:self.commercialism];
    }
}

//: - (UILabel *)titleLabel {
- (UILabel *)loopCoat {
    //: if (!_titleLabel) {
    if (!_loopCoat) {
        //: _titleLabel = [[UILabel alloc] initWithFrame:CGRectMake(self.avatarImageView.right + 15, 18, 200 , 20)];
        _loopCoat = [[UILabel alloc] initWithFrame:CGRectMake(self.composition.wing + 15, 18, 200 , 20)];
        //: _titleLabel.font = [UIFont boldSystemFontOfSize:16.f];
        _loopCoat.font = [UIFont boldSystemFontOfSize:16.f];
        //: _titleLabel.textColor = [UIColor colorWithHexString:@"000000"];
        _loopCoat.textColor = [UIColor distinctDown:StringFromTotaleractionData(&componentPassingError)];
        //: _titleLabel.textAlignment = NSTextAlignmentLeft;
        _loopCoat.textAlignment = NSTextAlignmentLeft;
        //: _titleLabel.numberOfLines = 1;
        _loopCoat.numberOfLines = 1;
        //: _titleLabel.lineBreakMode = NSLineBreakByTruncatingTail;
        _loopCoat.lineBreakMode = NSLineBreakByTruncatingTail;
    }
    //: return _titleLabel;
    return _loopCoat;
}

//: - (void)updateSourceMember:(AlongResetConductorTimeline *)sourceMember{
- (void)mustMember:(AlongResetConductorTimeline *)sourceMember{

    //: NIMSystemNotificationType type = self.notification.type;
    NIMSystemNotificationType type = self.commercialism.type;
    //: NSString *avatarUrlString = sourceMember.avatarUrlString;
    NSString *avatarUrlString = sourceMember.publicationText;
    //: NSURL *url;
    NSURL *url;
    //: if (avatarUrlString.length) {
    if (avatarUrlString.length) {
        //: url = [NSURL URLWithString:avatarUrlString];
        url = [NSURL URLWithString:avatarUrlString];
    }
//    [self.avatarImageView nim_setImageWithURL:url placeholderImage:sourceMember.avatarImage options:SDWebImageRetryFailed];
    //: [self.avatarImageView sd_setImageWithURL:url placeholderImage:sourceMember.avatarImage];
    [self.composition sd_setImageWithURL:url placeholderImage:sourceMember.expandRoute];
    //: self.titleLabel.text = sourceMember.showName;
    self.loopCoat.text = sourceMember.ovalDismiss;
    //: switch (type) {
    switch (type) {
        //: case NIMSystemNotificationTypeTeamApply:
        case NIMSystemNotificationTypeTeamApply:
        {
            //: NSString *message_helper_apply_to_group = [ViaPrimaryFacade getTextWithKey:@"message_helper_apply_to_group"];
            NSString *message_helper_apply_to_group = [ViaPrimaryFacade engine:StringFromTotaleractionData(&commonRockUtility)];//@"申请加入群".nim_localized
            //: NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.commercialism.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@",message_helper_apply_to_group, team.teamName];
            self.mark.text = [NSString stringWithFormat:@"%@ %@",message_helper_apply_to_group, team.teamName];
        }
            //: break;
            break;
        //: case NIMSystemNotificationTypeTeamApplyReject:
        case NIMSystemNotificationTypeTeamApplyReject:
        {
            //: NSString *contact_fragment_group = [ViaPrimaryFacade getTextWithKey:@"contact_fragment_group"];
            NSString *contact_fragment_group = [ViaPrimaryFacade engine:StringFromTotaleractionData(&coreActionHelper)];//@"群".nim_localized
            //: NSString *message_helper_refuse_you = [ViaPrimaryFacade getTextWithKey:@"message_helper_refuse_you"];
            NSString *message_helper_refuse_you = [ViaPrimaryFacade engine:StringFromTotaleractionData(&widgetLetterName)];//@"拒绝你加入".nim_localized
            //: NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.commercialism.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@ %@",
            self.mark.text = [NSString stringWithFormat:@"%@ %@ %@",
                                         //: contact_fragment_group,
                                         contact_fragment_group,
                                         //: team.teamName,
                                         team.teamName,
                                         //: message_helper_refuse_you];
                                         message_helper_refuse_you];
        }
            //: break;
            break;
        //: case NIMSystemNotificationTypeTeamInvite:
        case NIMSystemNotificationTypeTeamInvite:
        {
            //: NSString *contact_fragment_group = [ViaPrimaryFacade getTextWithKey:@"contact_fragment_group"];
            NSString *contact_fragment_group = [ViaPrimaryFacade engine:StringFromTotaleractionData(&coreActionHelper)];//@"群".nim_localized
            //: NSString *invite_you_group = [ViaPrimaryFacade getTextWithKey:@"invite_you_group"];
            NSString *invite_you_group = [ViaPrimaryFacade engine:StringFromTotaleractionData(&commonCalmUtility)];//@"邀请你加入".nim_localized
            //: NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.commercialism.targetID];

            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@ %@",
            self.mark.text = [NSString stringWithFormat:@"%@ %@ %@",
                                         //: contact_fragment_group,
                                         contact_fragment_group,
                                         //: team.teamName,
                                         team.teamName,
                                         //: invite_you_group];
                                         invite_you_group];

            //: if (self.notification.notifyExt.length>0) {
            if (self.commercialism.notifyExt.length>0) {
                //: self.messageLabel.text = [NSString stringWithFormat:@"%@ attach:%@",self.messageLabel.text , self.notification.notifyExt?:@""];
                self.mark.text = [NSString stringWithFormat:StringFromTotaleractionData(&featureFeedbackReachSettings),self.mark.text , self.commercialism.notifyExt?:@""];
            }

        }
            //: break;
            break;
        //: case NIMSystemNotificationTypeTeamIviteReject:
        case NIMSystemNotificationTypeTeamIviteReject:
        {
            //: NSString *message_helper_refuse_group = [ViaPrimaryFacade getTextWithKey:@"message_helper_refuse_group"];
            NSString *message_helper_refuse_group = [ViaPrimaryFacade engine:StringFromTotaleractionData(&featureThemeId)];
            //: NSString *message_helper_invite = [ViaPrimaryFacade getTextWithKey:@"message_helper_invite"];
            NSString *message_helper_invite = [ViaPrimaryFacade engine:StringFromTotaleractionData(&coreSearchPlatform)];//@"邀请".nim_localized
            //: NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.commercialism.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@ %@",
            self.mark.text = [NSString stringWithFormat:@"%@ %@ %@",
                                         //: message_helper_refuse_group,
                                         message_helper_refuse_group,
                                         //: team.teamName,
                                         team.teamName,
                                         //: message_helper_invite];
                                         message_helper_invite];
        }
            //: break;
            break;
        //: case NIMSystemNotificationTypeSuperTeamApply:
        case NIMSystemNotificationTypeSuperTeamApply:
        {
            //: NSString *apply_join_supergroup = [ViaPrimaryFacade getTextWithKey:@"apply_join_supergroup"];
            NSString *apply_join_supergroup = [ViaPrimaryFacade engine:StringFromTotaleractionData(&featureHourDevice)];//@"申请加入超大群 %@".nim_localized
            //: NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.commercialism.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:apply_join_supergroup, team.teamName];
            self.mark.text = [NSString stringWithFormat:apply_join_supergroup, team.teamName];
            //: break;
            break;
        }
        //: case NIMSystemNotificationTypeSuperTeamApplyReject:
        case NIMSystemNotificationTypeSuperTeamApplyReject:
        {
            //: NSString *large_group = [ViaPrimaryFacade getTextWithKey:@"large_group"];
            NSString *large_group = [ViaPrimaryFacade engine:StringFromTotaleractionData(&componentDigitalPreference)];//超大群
            //: NSString *to_deny_entry = [ViaPrimaryFacade getTextWithKey:@"to_deny_entry"];
            NSString *to_deny_entry = [ViaPrimaryFacade engine:StringFromTotaleractionData(&coreLetterReceiveMessage)];//拒绝你加入
            //: NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.commercialism.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@ %@",large_group, team.teamName,to_deny_entry];
            self.mark.text = [NSString stringWithFormat:@"%@ %@ %@",large_group, team.teamName,to_deny_entry];
            //: break;
            break;
        }
        //: case NIMSystemNotificationTypeSuperTeamInvite:
        case NIMSystemNotificationTypeSuperTeamInvite:
        {
            //: NSString *large_group = [ViaPrimaryFacade getTextWithKey:@"large_group"];
            NSString *large_group = [ViaPrimaryFacade engine:StringFromTotaleractionData(&componentDigitalPreference)];//超大群
            //: NSString *invite_you_join_us = [ViaPrimaryFacade getTextWithKey:@"invite_you_join_us"];
            NSString *invite_you_join_us = [ViaPrimaryFacade engine:StringFromTotaleractionData(&widgetNumbereractionMessage)];//邀请你加入
            //: NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.commercialism.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@  %@",large_group, team.teamName,invite_you_join_us];
            self.mark.text = [NSString stringWithFormat:@"%@ %@  %@",large_group, team.teamName,invite_you_join_us];
            //: break;
            break;
        }
        //: case NIMSystemNotificationTypeSuperTeamIviteReject:
        case NIMSystemNotificationTypeSuperTeamIviteReject:
        {
            //: NSString *rejected_group_invitation = [ViaPrimaryFacade getTextWithKey:@"rejected_group_invitation"];
            NSString *rejected_group_invitation = [ViaPrimaryFacade engine:StringFromTotaleractionData(&colorConnectText)];
            //: NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.commercialism.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@",rejected_group_invitation, team.teamName];
            self.mark.text = [NSString stringWithFormat:@"%@ %@",rejected_group_invitation, team.teamName];
            //: break;
            break;
        }
        //: case NIMSystemNotificationTypeFriendAdd:
        case NIMSystemNotificationTypeFriendAdd:
        {
            //: NSString *text = @"未知请求".nim_localized;
            NSString *text = StringFromTotaleractionData(&styleUniformWatchPath).ignore;
            //: id object = self.notification.attachment;
            id object = self.commercialism.attachment;
            //: if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
            if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
                //: NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
                NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
                //: NSString *serverExt = [(NIMUserAddAttachment *)object serverExt];
                NSString *serverExt = [(NIMUserAddAttachment *)object serverExt];

                //: switch (operation) {
                switch (operation) {
                    //: case NIMUserOperationAdd:
                    case NIMUserOperationAdd:
                        //: text = [ViaPrimaryFacade getTextWithKey:@"message_helper_already_add"];
                        text = [ViaPrimaryFacade engine:StringFromTotaleractionData(&kVendorPreference)];//@"已添加你为好友".nim_localized;
                        //: break;
                        break;
                    //: case NIMUserOperationRequest:
                    case NIMUserOperationRequest:
                        //: text = [ViaPrimaryFacade getTextWithKey:@"request_add_you_as_a_friend"];
                        text = [ViaPrimaryFacade engine:StringFromTotaleractionData(&themeLedgeDarkTimer)];//@"请求添加你为好友".nim_localized;
                        //: break;
                        break;
                    //: case NIMUserOperationVerify:
                    case NIMUserOperationVerify:
                        //: text = [ViaPrimaryFacade getTextWithKey:@"message_helper_allow_you_apply"];
                        text = [ViaPrimaryFacade engine:StringFromTotaleractionData(&k_viewUtility)];//@"通过了你的好友请求".nim_localized;
                        //: break;
                        break;
                    //: case NIMUserOperationReject:
                    case NIMUserOperationReject:
                        //: text = [ViaPrimaryFacade getTextWithKey:@"message_helper_refuse_you_apply"];
                        text = [ViaPrimaryFacade engine:StringFromTotaleractionData(&moduleArgumentEvent)];//@"拒绝了你的好友请求".nim_localized;
                        //: break;
                        break;
                    //: default:
                    default:
                        //: break;
                        break;
                }

                //: if (serverExt && [serverExt length]) {
                if (serverExt && [serverExt length]) {
                    //: text = [NSString stringWithFormat:@"%@（%@）", text, serverExt];
                    text = [NSString stringWithFormat:@"%@（%@）", text, serverExt];
                }
            }

            //: self.messageLabel.text = text;
            self.mark.text = text;
        }
            //: break;
            break;
        //: default:
        default:
            //: break;
            break;
    }

//    if (self.notification.postscript.length > 0) {
//        self.messageLabel.text = [NSString stringWithFormat:@"%@ %@",self.notification.postscript, self.messageLabel.text];
//    }

//    CGSize contentSize = [self.messageLabel.text boundingRectWithSize:CGSizeMake(SCREEN_WIDTH-48-15-12-15, CGFLOAT_MAX) options:NSStringDrawingUsesLineFragmentOrigin attributes:@{NSFontAttributeName: [UIFont systemFontOfSize:13]} context:nil].size;
//
//    self.messageLabel.height = contentSize.height + 10;

//    _refuseButton.top = _handleInfoLabel.top = _acceptButton.top = self.messageLabel.bottom + 8;
}

//: - (YYLabel *)messageLabel {
- (YYLabel *)mark {
    //: if (!_messageLabel) {
    if (!_mark) {
        //: _messageLabel = [[YYLabel alloc] initWithFrame:CGRectMake(self.titleLabel.left, self.timeLabel.bottom, self.titleLabel.width, 20)];
        _mark = [[YYLabel alloc] initWithFrame:CGRectMake(self.loopCoat.thePlayerThumb, self.labelSpecial.tableGame, self.loopCoat.suspendMerge, 20)];
        //: _messageLabel.font = [UIFont systemFontOfSize:12.f];
        _mark.font = [UIFont systemFontOfSize:12.f];
//        _messageLabel.textContainerInset = UIEdgeInsetsMake(5, 5, 5, 5);
        //: _messageLabel.textColor = [UIColor colorWithHexString:@"#999999"];
        _mark.textColor = [UIColor distinctDown:StringFromTotaleractionData(&k_analyzeError)];
        //: _messageLabel.textAlignment = NSTextAlignmentLeft;
        _mark.textAlignment = NSTextAlignmentLeft;
//        _messageLabel.numberOfLines = 3;
//        _messageLabel.lineBreakMode = NSLineBreakByTruncatingMiddle;
//        _messageLabel.layer.cornerRadius = 6;
//        _messageLabel.layer.borderColor = TextColor_Subtitle.CGColor;
//        _messageLabel.layer.borderWidth = 1.f/[UIScreen mainScreen].scale;
//        _messageLabel.layer.masksToBounds = YES;
    }
    //: return _messageLabel;
    return _mark;
}

//: - (BOOL)shouldHideActionButton
- (BOOL)odd
{
    //: NIMSystemNotificationType type = self.notification.type;
    NIMSystemNotificationType type = self.commercialism.type;
    //: BOOL handled = self.notification.handleStatus != 0;
    BOOL handled = self.commercialism.handleStatus != 0;
    //: BOOL needHandle = NO;
    BOOL needHandle = NO;
    //: if (type == NIMSystemNotificationTypeTeamApply ||
    if (type == NIMSystemNotificationTypeTeamApply ||
        //: type == NIMSystemNotificationTypeTeamInvite ||
        type == NIMSystemNotificationTypeTeamInvite ||
        //: type == NIMSystemNotificationTypeSuperTeamApply ||
        type == NIMSystemNotificationTypeSuperTeamApply ||
        //: type == NIMSystemNotificationTypeSuperTeamInvite) {
        type == NIMSystemNotificationTypeSuperTeamInvite) {
        //: needHandle = YES;
        needHandle = YES;
    }
    //: if (type == NIMSystemNotificationTypeFriendAdd) {
    if (type == NIMSystemNotificationTypeFriendAdd) {
        //: id object = self.notification.attachment;
        id object = self.commercialism.attachment;
        //: if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
        if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
            //: NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
            NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
            //: needHandle = operation == NIMUserOperationRequest;
            needHandle = operation == NIMUserOperationRequest;
        }
    }
    //: return !(!handled && needHandle);
    return !(!handled && needHandle);

}

//: - (void)updateUI{
- (void)directorLightSampleUi{
    //: BOOL hideActionButton = [self shouldHideActionButton];
    BOOL hideActionButton = [self odd];

    //: [self.acceptButton setHidden:hideActionButton];
    [self.owlSmart setHidden:hideActionButton];
    //: [self.refuseButton setHidden:hideActionButton];
    [self.roundWindow setHidden:hideActionButton];
    //: if(hideActionButton) {
    if(hideActionButton) {
        //: self.handleInfoLabel.hidden = NO;
        self.argument.hidden = NO;
        //: switch (self.notification.handleStatus) {
        switch (self.commercialism.handleStatus) {
            //: case RotateParserGridTypeOk:
            case RotateParserGridTypeOk:
                //: self.handleInfoLabel.text = [ViaPrimaryFacade getTextWithKey:@"message_helper_already_ok"];
                self.argument.text = [ViaPrimaryFacade engine:StringFromTotaleractionData(&componentCloudMessage)];//@"已同意".nim_localized;
                //: break;
                break;
            //: case RotateParserGridTypeNo:
            case RotateParserGridTypeNo:
                //: self.handleInfoLabel.text = [ViaPrimaryFacade getTextWithKey:@"message_helper_already_no"];
                self.argument.text = [ViaPrimaryFacade engine:StringFromTotaleractionData(&screenStandFormat)];//@"已拒绝".nim_localized;
                //: break;
                break;
            //: case RotateParserGridTypeOutOfDate:
            case RotateParserGridTypeOutOfDate:
                //: self.handleInfoLabel.text = [ViaPrimaryFacade getTextWithKey:@"message_helper_already_time"];
                self.argument.text = [ViaPrimaryFacade engine:StringFromTotaleractionData(&kSceneForestUtility)];//@"已过期".nim_localized;
                //: break;
                break;
            //: default:
            default:
                //: self.handleInfoLabel.text = [ViaPrimaryFacade getTextWithKey:@"is_read"];
                self.argument.text = [ViaPrimaryFacade engine:StringFromTotaleractionData(&appQuitNeatTimer)];
                //: break;
                break;
        }
    //: } else {
    } else {
        //: self.handleInfoLabel.hidden = YES;
        self.argument.hidden = YES;
    }


    //: self.timeLabel.text = [UpdaterCanyonShoreLoad showTime:self.notification.timestamp showDetail:YES];
    self.labelSpecial.text = [UpdaterCanyonShoreLoad flame:self.commercialism.timestamp thread:YES];

    //: NSString *sourceID = self.notification.sourceID;
    NSString *sourceID = self.commercialism.sourceID;
    //: AlongResetConductorTimeline *sourceMember = [[QuintessentialContentTreat sharedKit] infoByUser:sourceID option:nil];
    AlongResetConductorTimeline *sourceMember = [[QuintessentialContentTreat pair] drawingSampleOption:sourceID original:nil];
    //: [self updateSourceMember:sourceMember];
    [self mustMember:sourceMember];
}

//: - (void)onRefusebtn {
- (void)flowExtent {
    //: if (_actionDelegate && [_actionDelegate respondsToSelector:@selector(onRefuse:)]){
    if (_dark && [_dark respondsToSelector:@selector(repudiates:)]){
        //: [_actionDelegate onRefuse:self.notification];
        [_dark repudiates:self.commercialism];
    }
}


//: - (UIButton *)refuseButton {
- (UIButton *)roundWindow {
    //: if (!_refuseButton) {
    if (!_roundWindow) {
        //: _refuseButton = [UIButton buttonWithType:(UIButtonTypeCustom)];
        _roundWindow = [UIButton buttonWithType:(UIButtonTypeCustom)];
        //: _refuseButton.frame = CGRectMake(0, 0, 32, 32);
        _roundWindow.frame = CGRectMake(0, 0, 32, 32);
        //: _refuseButton.right = self.acceptButton.left - 10;
        _roundWindow.wing = self.owlSmart.thePlayerThumb - 10;
        //: _refuseButton.top = self.acceptButton.top;
        _roundWindow.endue = self.owlSmart.endue;
//        _refuseButton.titleLabel.font = [UIFont systemFontOfSize:15];
//        [_refuseButton setTitle:LangKey(@"request_add_reject") forState:(UIControlStateNormal)];
        //: [_refuseButton addTarget:self action:@selector(onRefusebtn) forControlEvents:(UIControlEventTouchUpInside)];
        [_roundWindow addTarget:self action:@selector(flowExtent) forControlEvents:(UIControlEventTouchUpInside)];
//        [_refuseButton setTitleColor:kTextColor_2c3042 forState:(UIControlStateNormal)];
//        [_refuseButton setBackgroundColor:RGB_COLOR_String(@"#ffffff")];
        //: [_refuseButton setImage:[UIImage imageNamed:@"ic_btn_disaccept"] forState:UIControlStateNormal];
        [_roundWindow setImage:[UIImage imageNamed:StringFromTotaleractionData(&layoutSpecialCommandConfig)] forState:UIControlStateNormal];
//        _refuseButton.layer.cornerRadius = 16;
//        _refuseButton.layer.masksToBounds = YES;
    }
    //: return _refuseButton;
    return _roundWindow;
}

//: - (instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier {
- (instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier {
    //: self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    //: if (self) {
    if (self) {
        //: [self.contentView addSubview:self.avatarImageView];
        [self.contentView addSubview:self.composition];
        //: [self.contentView addSubview:self.titleLabel];
        [self.contentView addSubview:self.loopCoat];
        //: [self.contentView addSubview:self.timeLabel];
        [self.contentView addSubview:self.labelSpecial];
        //: [self.contentView addSubview:self.messageLabel];
        [self.contentView addSubview:self.mark];
        //: [self.contentView addSubview:self.handleInfoLabel];
        [self.contentView addSubview:self.argument];
        //: [self.contentView addSubview:self.acceptButton];
        [self.contentView addSubview:self.owlSmart];
        //: [self.contentView addSubview:self.refuseButton];
        [self.contentView addSubview:self.roundWindow];
//        [self.contentView addSubview:self.handleInfoLabel];

        //: self.backgroundColor = [UIColor colorWithHexString:@"#F6F6F6"];
        self.backgroundColor = [UIColor distinctDown:StringFromTotaleractionData(&k_hourPlatform)];
        //: self.layer.cornerRadius = 16;
        self.layer.cornerRadius = 16;
    }
    //: return self;
    return self;
}

//: - (UIButton *)acceptButton {
- (UIButton *)owlSmart {
    //: if (!_acceptButton) {
    if (!_owlSmart) {
        //: _acceptButton = [UIButton buttonWithType:(UIButtonTypeCustom)];
        _owlSmart = [UIButton buttonWithType:(UIButtonTypeCustom)];
        //: _acceptButton.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-30-15-32, 21, 32, 32);
        _owlSmart.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-30-15-32, 21, 32, 32);
//        _acceptButton.titleLabel.font = [UIFont systemFontOfSize:15];
//        [_acceptButton setTitle:LangKey(@"request_add_accept") forState:(UIControlStateNormal)];
        //: [_acceptButton addTarget:self action:@selector(onAcceptBtn) forControlEvents:(UIControlEventTouchUpInside)];
        [_owlSmart addTarget:self action:@selector(resignBuilder) forControlEvents:(UIControlEventTouchUpInside)];
//        [_acceptButton setBackgroundColor:RGB_COLOR_String(@"#ffffff")];
        //: [_acceptButton setImage:[UIImage imageNamed:@"ic_btn_accept"] forState:UIControlStateNormal];
        [_owlSmart setImage:[UIImage imageNamed:StringFromTotaleractionData(&viewPartyTimer)] forState:UIControlStateNormal];
//        _acceptButton.layer.cornerRadius = 16;
//        _acceptButton.layer.masksToBounds = YES;
    }
    //: return _acceptButton;
    return _owlSmart;
}

//: - (UILabel *)handleInfoLabel {
- (UILabel *)argument {
    //: if (!_handleInfoLabel) {
    if (!_argument) {
        //: _handleInfoLabel = [[UILabel alloc] initWithFrame:CGRectZero];
        _argument = [[UILabel alloc] initWithFrame:CGRectZero];
        //: _handleInfoLabel.frame = CGRectMake(0, 0, 130, 20);
        _argument.frame = CGRectMake(0, 0, 130, 20);
        //: _handleInfoLabel.right = [[UIScreen mainScreen] bounds].size.width-30-15;
        _argument.wing = [[UIScreen mainScreen] bounds].size.width-30-15;
        //: _handleInfoLabel.centerY = self.avatarImageView.centerY;
        _argument.driveY = self.composition.driveY;
        //: _handleInfoLabel.font = [UIFont systemFontOfSize:14.f];
        _argument.font = [UIFont systemFontOfSize:14.f];
        //: _handleInfoLabel.textColor = [UIColor colorWithHexString:@"#05AAF4"];
        _argument.textColor = [UIColor distinctDown:StringFromTotaleractionData(&styleProductPreference)];
        //: _handleInfoLabel.textAlignment = NSTextAlignmentRight;
        _argument.textAlignment = NSTextAlignmentRight;
//        _handleInfoLabel.numberOfLines = 1;
//        _handleInfoLabel.lineBreakMode = NSLineBreakByTruncatingTail;
    }
    //: return _handleInfoLabel;
    return _argument;
}
//: - (UILabel *)timeLabel {
- (UILabel *)labelSpecial {
    //: if (!_timeLabel) {
    if (!_labelSpecial) {
        //: _timeLabel = [[UILabel alloc] initWithFrame:CGRectMake(self.titleLabel.left, self.titleLabel.bottom, self.titleLabel.width, 18)];
        _labelSpecial = [[UILabel alloc] initWithFrame:CGRectMake(self.loopCoat.thePlayerThumb, self.loopCoat.tableGame, self.loopCoat.suspendMerge, 18)];
        //: _timeLabel.font = [UIFont systemFontOfSize:12.f];
        _labelSpecial.font = [UIFont systemFontOfSize:12.f];
        //: _timeLabel.textColor = [UIColor colorWithHexString:@"#999999"];
        _labelSpecial.textColor = [UIColor distinctDown:StringFromTotaleractionData(&k_analyzeError)];
        //: _timeLabel.textAlignment = NSTextAlignmentLeft;
        _labelSpecial.textAlignment = NSTextAlignmentLeft;
        //: _timeLabel.numberOfLines = 1;
        _labelSpecial.numberOfLines = 1;
        //: _timeLabel.lineBreakMode = NSLineBreakByTruncatingTail;
        _labelSpecial.lineBreakMode = NSLineBreakByTruncatingTail;
    }
    //: return _timeLabel;
    return _labelSpecial;
}

//: - (UIImageView *)avatarImageView {
- (UIImageView *)composition {
    //: if (!_avatarImageView) {
    if (!_composition) {
        //: _avatarImageView = [[UIImageView alloc] initWithFrame:CGRectMake(15, 18, 50, 50)];
        _composition = [[UIImageView alloc] initWithFrame:CGRectMake(15, 18, 50, 50)];
        //: _avatarImageView.contentMode = UIViewContentModeScaleToFill;
        _composition.contentMode = UIViewContentModeScaleToFill;
        //: _avatarImageView.layer.cornerRadius = 25;
        _composition.layer.cornerRadius = 25;
        //: _avatarImageView.layer.masksToBounds = YES;
        _composition.layer.masksToBounds = YES;

//        UITapGestureRecognizer *panGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(onTouchAvatar:)];
//        [_avatarImageView addGestureRecognizer:panGesture];
    }
    //: return _avatarImageView;
    return _composition;
}
//- (void)awakeFromNib{
//    [super awakeFromNib];
//    self.textLabel.lineBreakMode = NSLineBreakByTruncatingMiddle;
//    self.detailTextLabel.backgroundColor = [UIColor clearColor];
//    self.detailTextLabel.lineBreakMode = NSLineBreakByTruncatingMiddle;
//    self.avatarImageView = [[MuseCoordinateTide alloc] initWithFrame:CGRectMake(0, 0, 40, 40)];
//    [self.contentView addSubview:self.avatarImageView];
//
////    UIButton *a = (UIButton *)self.acceptButton;
////    UIButton *b = (UIButton *)self.refuseButton;
////    [a setTitle:LangKey(@"request_add_accept") forState:UIControlStateNormal];
////    [b setTitle:LangKey(@"request_add_reject") forState:UIControlStateNormal];
//
//}
//
//- (void)update:(NIMSystemNotification *)notification{
//    self.notification = notification;
//    [self updateUI];
//}
//
//- (void)updateUI{
//    BOOL hideActionButton = [self shouldHideActionButton];
//
//    [self.acceptButton setHidden:hideActionButton];
//    [self.refuseButton setHidden:hideActionButton];
//    if(hideActionButton) {
//        self.handleInfoLabel.hidden = NO;
//        switch (self.notification.handleStatus) {
//            case RotateParserGridTypeOk:
//                self.handleInfoLabel.text = LangKey(@"message_helper_already_ok");//@"已同意".user_localized;
//                break;
//            case RotateParserGridTypeNo:
//                self.handleInfoLabel.text = LangKey(@"message_helper_already_no");//@"已拒绝".user_localized;
//                break;
//            case RotateParserGridTypeOutOfDate:
//                self.handleInfoLabel.text = LangKey(@"message_helper_already_time");//@"已过期".user_localized;
//                break;
//            default:
//                self.handleInfoLabel.text = nil;
//                break;
//        }
//    } else {
//        self.handleInfoLabel.hidden = YES;
//    }
//
//
//    NSString *sourceID = self.notification.sourceID;
//    AlongResetConductorTimeline *sourceMember = [[QuintessentialContentTreat sharedKit] infoByUser:sourceID option:nil];
//    [self updateSourceMember:sourceMember];
//}
//
//- (void)updateSourceMember:(AlongResetConductorTimeline *)sourceMember{
//    NIMSystemNotificationType type = self.notification.type;
//    NSString *avatarUrlString = sourceMember.avatarUrlString;
//    NSURL *url;
//    if (avatarUrlString.length) {
//        url = [NSURL URLWithString:avatarUrlString];
//    }
//    [self.avatarImageView nim_setImageWithURL:url placeholderImage:sourceMember.avatarImage options:SDWebImageRetryFailed];
//    self.textLabel.text        = sourceMember.showName;
//    [self.textLabel sizeToFit];
//    switch (type) {
//        case NIMSystemNotificationTypeTeamApply:
//        {
//            NSString *message_helper_apply_to_group = LangKey(@"message_helper_apply_to_group");//@"申请加入群".user_localized
//            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@",message_helper_apply_to_group, team.teamName];
//        }
//            break;
//        case NIMSystemNotificationTypeTeamApplyReject:
//        {
//            NSString *contact_fragment_group = LangKey(@"contact_fragment_group");//@"群".user_localized
//            NSString *message_helper_refuse_you = LangKey(@"message_helper_refuse_you");//@"拒绝你加入".user_localized
//            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@ %@",
//                                         contact_fragment_group,
//                                         team.teamName,
//                                         message_helper_refuse_you];
//        }
//            break;
//        case NIMSystemNotificationTypeTeamInvite:
//        {
//            NSString *contact_fragment_group = LangKey(@"contact_fragment_group");//@"群".user_localized
//            NSString *invite_you_group = LangKey(@"invite_you_group");//@"邀请你加入".user_localized
//            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
//
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@ %@ attach:%@",
//                                         contact_fragment_group,
//                                         team.teamName,
//                                         invite_you_group,
//                                         self.notification.notifyExt ? : @""];
//        }
//            break;
//        case NIMSystemNotificationTypeTeamIviteReject:
//        {
//            NSString *message_helper_refuse_group = LangKey(@"message_helper_refuse_group");
//            NSString *message_helper_invite = LangKey(@"message_helper_invite");//@"邀请".user_localized
//            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@ %@",
//                                         message_helper_refuse_group,
//                                         team.teamName,
//                                         message_helper_invite];
//        }
//            break;
//        case NIMSystemNotificationTypeSuperTeamApply:
//        {
//            NSString *apply_join_supergroup = LangKey(@"apply_join_supergroup");//@"申请加入超大群 %@".user_localized
//            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:apply_join_supergroup, team.teamName];
//            break;
//        }
//        case NIMSystemNotificationTypeSuperTeamApplyReject:
//        {
//            NSString *large_group = LangKey(@"large_group");//超大群
//            NSString *to_deny_entry = LangKey(@"to_deny_entry");//拒绝你加入
//            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@ %@",large_group, team.teamName,to_deny_entry];
//            break;
//        }
//        case NIMSystemNotificationTypeSuperTeamInvite:
//        {
//            NSString *large_group = LangKey(@"large_group");//超大群
//            NSString *invite_you_join_us = LangKey(@"invite_you_join_us");//邀请你加入
//            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@  %@",large_group, team.teamName,invite_you_join_us];
//            break;
//        }
//        case NIMSystemNotificationTypeSuperTeamIviteReject:
//        {
//            NSString *rejected_group_invitation = LangKey(@"rejected_group_invitation");
//            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@",rejected_group_invitation, team.teamName];
//            break;
//        }
//        case NIMSystemNotificationTypeFriendAdd:
//        {
//            NSString *text = @"未知请求".user_localized;
//            id object = self.notification.attachment;
//            if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
//                NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
//                NSString *serverExt = [(NIMUserAddAttachment *)object serverExt];
//
//                switch (operation) {
//                    case NIMUserOperationAdd:
//                        text = LangKey(@"message_helper_already_add");//@"已添加你为好友".user_localized;
//                        break;
//                    case NIMUserOperationRequest:
//                        text = LangKey(@"request_add_you_as_a_friend");//@"请求添加你为好友".user_localized;
//                        break;
//                    case NIMUserOperationVerify:
//                        text = LangKey(@"message_helper_allow_you_apply");//@"通过了你的好友请求".user_localized;
//                        break;
//                    case NIMUserOperationReject:
//                        text = LangKey(@"message_helper_refuse_you_apply");//@"拒绝了你的好友请求".user_localized;
//                        break;
//                    default:
//                        break;
//                }
//
//                if (serverExt && [serverExt length]) {
//                    text = [NSString stringWithFormat:@"%@（%@）", text, serverExt];
//                }
//            }
//
//            self.detailTextLabel.text = text;
//        }
//            break;
//        default:
//            break;
//    }
//    [self.detailTextLabel sizeToFit];
//    self.messageLabel.text = self.notification.postscript;
//    [self.messageLabel sizeToFit];
//    [self setNeedsLayout];
//}
//
//- (IBAction)onAccept:(id)sender {
//    if (_actionDelegate && [_actionDelegate respondsToSelector:@selector(onAccept:)]){
//        [_actionDelegate onAccept:self.notification];
//    }
//}
//- (IBAction)onRefuse:(id)sender {
//    if (_actionDelegate && [_actionDelegate respondsToSelector:@selector(onRefuse:)]){
//        [_actionDelegate onRefuse:self.notification];
//    }
//}
//
//- (BOOL)shouldHideActionButton
//{
//    NIMSystemNotificationType type = self.notification.type;
//    BOOL handled = self.notification.handleStatus != 0;
//    BOOL needHandle = NO;
//    if (type == NIMSystemNotificationTypeTeamApply ||
//        type == NIMSystemNotificationTypeTeamInvite ||
//        type == NIMSystemNotificationTypeSuperTeamApply ||
//        type == NIMSystemNotificationTypeSuperTeamInvite) {
//        needHandle = YES;
//    }
//    if (type == NIMSystemNotificationTypeFriendAdd) {
//        id object = self.notification.attachment;
//        if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
//            NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
//            needHandle = operation == NIMUserOperationRequest;
//        }
//    }
//    return !(!handled && needHandle);
//
//}
//
//#define MaxTextLabelWidth 120.0 * UISreenWidthScale
//#define MaxDetailLabelWidth 160.0 * UISreenWidthScale
//#define MaxMessageLabelWidth 150.0 * UISreenWidthScale
//#define TextLabelAndMessageLabelSpacing 20.f
//#define AvatarImageViewLeft 15.f
//#define MessageAndAvatarSpacing 15.f
//- (void)layoutSubviews{
//    [super layoutSubviews];
//    self.avatarImageView.centerY = self.height * .5f;
//    self.avatarImageView.left = AvatarImageViewLeft;
//    if (self.textLabel.width > MaxTextLabelWidth) {
//        self.textLabel.width = MaxTextLabelWidth;
//    }
//    if (self.detailTextLabel.width > MaxDetailLabelWidth) {
//        self.detailTextLabel.width = MaxDetailLabelWidth;
//    }
//    self.textLabel.left = self.avatarImageView.right + MessageAndAvatarSpacing;
//    self.detailTextLabel.left = self.textLabel.left;
//    self.detailTextLabel.bottom = self.avatarImageView.bottom;
//
////    if (self.messageLabel.width > MaxMessageLabelWidth) {
////        self.messageLabel.width = MaxMessageLabelWidth;
////    }
////    self.messageLabel.left = self.textLabel.right + TextLabelAndMessageLabelSpacing;
//
//}

//: @end
@end

Byte *TotaleractionDataToByte(TotaleractionData *data) {
    if (data->outerSpace < 102) return data->second;
    for (int i = 0; i < data->search; i++) {
        data->second[i] ^= data->mushroom;
    }
    data->second[data->search] = 0;
    data->outerSpace = 78;
	if (data->search >= 2) {
		data->sole = data->second[0];
		data->contextTheme = data->second[1];
	}
    return data->second;
}

NSString *StringFromTotaleractionData(TotaleractionData *data) {
    return [NSString stringWithUTF8String:(char *)TotaleractionDataToByte(data)];
}
